import{F as di,R as pi,c as bi,q as gi,Q as Re,w as wi,b as yi,a as qe}from"./index-wlHaGBk8.js";var mi=Object.defineProperty,Ei=(e,t,r)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ie=(e,t,r)=>(Ei(e,typeof t!="symbol"?t+"":t,r),r),Wn={exports:{}},Je=typeof Reflect=="object"?Reflect:null,qr=Je&&typeof Je.apply=="function"?Je.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},It;Je&&typeof Je.ownKeys=="function"?It=Je.ownKeys:Object.getOwnPropertySymbols?It=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:It=function(e){return Object.getOwnPropertyNames(e)};function vi(e){console&&console.warn&&console.warn(e)}var Zn=Number.isNaN||function(e){return e!==e};function W(){W.init.call(this)}Wn.exports=W;Wn.exports.once=Oi;W.EventEmitter=W;W.prototype._events=void 0;W.prototype._eventsCount=0;W.prototype._maxListeners=void 0;var Fr=10;function Tt(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(W,"defaultMaxListeners",{enumerable:!0,get:function(){return Fr},set:function(e){if(typeof e!="number"||e<0||Zn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Fr=e}});W.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};W.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Zn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Kn(e){return e._maxListeners===void 0?W.defaultMaxListeners:e._maxListeners}W.prototype.getMaxListeners=function(){return Kn(this)};W.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")qr(c,this,t);else for(var a=c.length,u=Xn(c,a),r=0;r<a;++r)qr(u[r],this,t);return!0};function Gn(e,t,r,n){var i,o,s;if(Tt(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Kn(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,vi(c)}return e}W.prototype.addListener=function(e,t){return Gn(this,e,t,!1)};W.prototype.on=W.prototype.addListener;W.prototype.prependListener=function(e,t){return Gn(this,e,t,!0)};function xi(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $n(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=xi.bind(n);return i.listener=r,n.wrapFn=i,i}W.prototype.once=function(e,t){return Tt(t),this.on(e,$n(this,e,t)),this};W.prototype.prependOnceListener=function(e,t){return Tt(t),this.prependListener(e,$n(this,e,t)),this};W.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Tt(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():_i(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this};W.prototype.off=W.prototype.removeListener;W.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function Jn(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Ai(i):Xn(i,i.length)}W.prototype.listeners=function(e){return Jn(this,e,!0)};W.prototype.rawListeners=function(e){return Jn(this,e,!1)};W.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Qn.call(e,t)};W.prototype.listenerCount=Qn;function Qn(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}W.prototype.eventNames=function(){return this._eventsCount>0?It(this._events):[]};function Xn(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function _i(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Ai(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Oi(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}eo(e,t,o,{once:!0}),t!=="error"&&Si(e,i,{once:!0})})}function Si(e,t,r){typeof e.on=="function"&&eo(e,"error",t,r)}function eo(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var q={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ar=function(e,t){return ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ar(e,t)};function Bi(e,t){ar(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cr=function(){return cr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cr.apply(this,arguments)};function Ui(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ii(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function Ni(e,t){return function(r,n){t(r,n,e)}}function Li(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ti(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(f){try{u(n.next(f))}catch(h){s(h)}}function a(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(c,a)}u((n=n.apply(e,t||[])).next())})}function Pi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return a([u,f])}}function a(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ci(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ri(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function fr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function to(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function ji(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(to(arguments[t]));return e}function zi(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)n[i]=o[s];return n}function ut(e){return this instanceof ut?(this.v=e,this):new ut(e)}function Mi(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){n[p]&&(i[p]=function(g){return new Promise(function(l,d){o.push([p,g,l,d])>1||c(p,g)})})}function c(p,g){try{a(n[p](g))}catch(l){h(o[0][3],l)}}function a(p){p.value instanceof ut?Promise.resolve(p.value.v).then(u,f):h(o[0][2],p)}function u(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ki(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(s){return(r=!r)?{value:ut(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function Di(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fr=="function"?fr(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(c,a){s=e[o](s),i(c,a,s.done,s.value)})}}function i(o,s,c,a){Promise.resolve(a).then(function(u){o({value:u,done:c})},s)}}function Hi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function qi(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Fi(e){return e&&e.__esModule?e:{default:e}}function Vi(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Yi(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Wi=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return cr},__asyncDelegator:ki,__asyncGenerator:Mi,__asyncValues:Di,__await:ut,__awaiter:Ti,__classPrivateFieldGet:Vi,__classPrivateFieldSet:Yi,__createBinding:Ci,__decorate:Ii,__exportStar:Ri,__extends:Bi,__generator:Pi,__importDefault:Fi,__importStar:qi,__makeTemplateObject:Hi,__metadata:Li,__param:Ni,__read:to,__rest:Ui,__spread:ji,__spreadArrays:zi,__values:fr},Symbol.toStringTag,{value:"Module"})),bt=di(Wi);var Vr={},st={},Yr;function Zi(){if(Yr)return st;Yr=1,Object.defineProperty(st,"__esModule",{value:!0}),st.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return st.delay=e,st}var je={},Wr={},Fe={},Zr;function Ki(){return Zr||(Zr=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.ONE_THOUSAND=Fe.ONE_HUNDRED=void 0,Fe.ONE_HUNDRED=100,Fe.ONE_THOUSAND=1e3),Fe}var Kr={},Gr;function Gi(){return Gr||(Gr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Kr)),Kr}var $r;function ro(){return $r||($r=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bt;t.__exportStar(Ki(),e),t.__exportStar(Gi(),e)}(Wr)),Wr}var Jr;function $i(){if(Jr)return je;Jr=1,Object.defineProperty(je,"__esModule",{value:!0}),je.fromMiliseconds=je.toMiliseconds=void 0;const e=ro();function t(n){return n*e.ONE_THOUSAND}je.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return je.fromMiliseconds=r,je}var Qr;function Ji(){return Qr||(Qr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bt;t.__exportStar(Zi(),e),t.__exportStar($i(),e)}(Vr)),Vr}var Ve={},Xr;function Qi(){if(Xr)return Ve;Xr=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Ve.Watch=e,Ve.default=e,Ve}var en={},at={},tn;function Xi(){if(tn)return at;tn=1,Object.defineProperty(at,"__esModule",{value:!0}),at.IWatch=void 0;class e{}return at.IWatch=e,at}var rn;function es(){return rn||(rn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),bt.__exportStar(Xi(),e)}(en)),en}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bt;t.__exportStar(Ji(),e),t.__exportStar(Qi(),e),t.__exportStar(es(),e),t.__exportStar(ro(),e)})(q);q.FIVE_SECONDS;(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length})})();function ts(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var rs=ns;function ns(e,t,r){var n=r&&r.stringify||ts,i=1;if(typeof e=="object"&&e!==null){var o=t.length+i;if(o===1)return e;var s=new Array(o);s[0]=n(e);for(var c=1;c<o;c++)s[c]=n(t[c]);return s.join(" ")}if(typeof e!="string")return e;var a=t.length;if(a===0)return e;for(var u="",f=1-i,h=-1,p=e&&e.length||0,g=0;g<p;){if(e.charCodeAt(g)===37&&g+1<p){switch(h=h>-1?h:0,e.charCodeAt(g+1)){case 100:case 102:if(f>=a||t[f]==null)break;h<g&&(u+=e.slice(h,g)),u+=Number(t[f]),h=g+2,g++;break;case 105:if(f>=a||t[f]==null)break;h<g&&(u+=e.slice(h,g)),u+=Math.floor(Number(t[f])),h=g+2,g++;break;case 79:case 111:case 106:if(f>=a||t[f]===void 0)break;h<g&&(u+=e.slice(h,g));var l=typeof t[f];if(l==="string"){u+="'"+t[f]+"'",h=g+2,g++;break}if(l==="function"){u+=t[f].name||"<anonymous>",h=g+2,g++;break}u+=n(t[f]),h=g+2,g++;break;case 115:if(f>=a)break;h<g&&(u+=e.slice(h,g)),u+=String(t[f]),h=g+2,g++;break;case 37:h<g&&(u+=e.slice(h,g)),u+="%",h=g+2,g++,f--;break}++f}++g}return h===-1?e:(h<p&&(u+=e.slice(h)),u)}const nn=rs,lt=ds().console||{},os={mapHttpRequest:xt,mapHttpResponse:xt,wrapRequestSerializer:Ft,wrapResponseSerializer:Ft,wrapErrorSerializer:Ft,req:xt,res:xt,err:fs};function is(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Se(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||lt;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},i=is(e.browser.serialize,n);let o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);const s=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const c=e.level||"info",a=Object.create(r);a.log||(a.log=ht),Object.defineProperty(a,"levelVal",{get:f}),Object.defineProperty(a,"level",{get:h,set:p});const u={transmit:t,serialize:i,asObject:e.browser.asObject,levels:s,timestamp:us(e)};a.levels=Se.levels,a.level=c,a.setMaxListeners=a.getMaxListeners=a.emit=a.addListener=a.on=a.prependListener=a.once=a.prependOnceListener=a.removeListener=a.removeAllListeners=a.listeners=a.listenerCount=a.eventNames=a.write=a.flush=ht,a.serializers=n,a._serialize=i,a._stdErrSerialize=o,a.child=g,t&&(a._logEvent=ur());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function p(l){if(l!=="silent"&&!this.levels.values[l])throw Error("unknown level "+l);this._level=l,Ye(u,a,"error","log"),Ye(u,a,"fatal","error"),Ye(u,a,"warn","error"),Ye(u,a,"info","log"),Ye(u,a,"debug","log"),Ye(u,a,"trace","log")}function g(l,d){if(!l)throw new Error("missing bindings for child Pino");d=d||{},i&&l.serializers&&(d.serializers=l.serializers);const b=d.serializers;if(i&&b){var E=Object.assign({},n,b),w=e.browser.serialize===!0?Object.keys(E):i;delete l.serializers,Pt([l],w,E,this._stdErrSerialize)}function m(x){this._childLevel=(x._childLevel|0)+1,this.error=We(x,l,"error"),this.fatal=We(x,l,"fatal"),this.warn=We(x,l,"warn"),this.info=We(x,l,"info"),this.debug=We(x,l,"debug"),this.trace=We(x,l,"trace"),E&&(this.serializers=E,this._serialize=w),t&&(this._logEvent=ur([].concat(x._logEvent.bindings,l)))}return m.prototype=this,new m(this)}return a}Se.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Se.stdSerializers=os;Se.stdTimeFunctions=Object.assign({},{nullTime:no,epochTime:oo,unixTime:ls,isoTime:hs});function Ye(e,t,r,n){const i=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?ht:i[r]?i[r]:lt[r]||lt[n]||ht,ss(e,t,r)}function ss(e,t,r){!e.transmit&&t[r]===ht||(t[r]=function(n){return function(){const i=e.timestamp(),o=new Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===lt?lt:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(e.serialize&&!e.asObject&&Pt(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(s,as(this,r,o,i)):n.apply(s,o),e.transmit){const a=e.transmit.level||t.level,u=Se.levels.values[a],f=Se.levels.values[r];if(f<u)return;cs(this,{ts:i,methodLevel:r,methodValue:f,transmitValue:Se.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[r]))}function as(e,t,r,n){e._serialize&&Pt(r,e._serialize,e.serializers,e._stdErrSerialize);const i=r.slice();let o=i[0];const s={};n&&(s.time=n),s.level=Se.levels.values[t];let c=(e._childLevel|0)+1;if(c<1&&(c=1),o!==null&&typeof o=="object"){for(;c--&&typeof i[0]=="object";)Object.assign(s,i.shift());o=i.length?nn(i.shift(),i):void 0}else typeof o=="string"&&(o=nn(i.shift(),i));return o!==void 0&&(s.msg=o),s}function Pt(e,t,r,n){for(const i in e)if(n&&e[i]instanceof Error)e[i]=Se.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i]))for(const o in e[i])t&&t.indexOf(o)>-1&&o in r&&(e[i][o]=r[o](e[i][o]))}function We(e,t,r){return function(){const n=new Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function cs(e,t,r){const n=t.send,i=t.ts,o=t.methodLevel,s=t.methodValue,c=t.val,a=e._logEvent.bindings;Pt(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(u){return a.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=s,n(o,e._logEvent,c),e._logEvent=ur(a)}function ur(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function fs(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function us(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?no:oo}function xt(){return{}}function Ft(e){return e}function ht(){}function no(){return!1}function oo(){return Date.now()}function ls(){return Math.round(Date.now()/1e3)}function hs(){return new Date(Date.now()).toISOString()}function ds(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}function ps(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function io(e,...t){if(!ps(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function on(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function bs(e,t){io(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Ze=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function gs(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function so(e){return typeof e=="string"&&(e=gs(e)),io(e),e}let ws=class{clone(){return this._cloneInto()}};function ys(e){const t=n=>e().update(so(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ms(e=32){if(Ze&&typeof Ze.getRandomValues=="function")return Ze.getRandomValues(new Uint8Array(e));if(Ze&&typeof Ze.randomBytes=="function")return Ze.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Es(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),a=n?4:0,u=n?0:4;e.setUint32(t+a,s,n),e.setUint32(t+u,c,n)}let vs=class extends ws{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Vt(this.buffer)}update(e){on(this);const{view:t,buffer:r,blockLen:n}=this;e=so(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const c=Vt(e);for(;n<=i-o;o+=n)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){on(this),bs(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let f=o;f<n;f++)t[f]=0;Es(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=Vt(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=c/4,u=this.get();if(a>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)s.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const _t=BigInt(2**32-1),lr=BigInt(32);function ao(e,t=!1){return t?{h:Number(e&_t),l:Number(e>>lr&_t)}:{h:Number(e>>lr&_t)|0,l:Number(e&_t)|0}}function xs(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ao(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const _s=(e,t)=>BigInt(e>>>0)<<lr|BigInt(t>>>0),As=(e,t,r)=>e>>>r,Os=(e,t,r)=>e<<32-r|t>>>r,Ss=(e,t,r)=>e>>>r|t<<32-r,Bs=(e,t,r)=>e<<32-r|t>>>r,Us=(e,t,r)=>e<<64-r|t>>>r-32,Is=(e,t,r)=>e>>>r-32|t<<64-r,Ns=(e,t)=>t,Ls=(e,t)=>e,Ts=(e,t,r)=>e<<r|t>>>32-r,Ps=(e,t,r)=>t<<r|e>>>32-r,Cs=(e,t,r)=>t<<r-32|e>>>64-r,Rs=(e,t,r)=>e<<r-32|t>>>64-r;function js(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const zs=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Ms=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,ks=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Ds=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Hs=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),qs=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,H={fromBig:ao,split:xs,toBig:_s,shrSH:As,shrSL:Os,rotrSH:Ss,rotrSL:Bs,rotrBH:Us,rotrBL:Is,rotr32H:Ns,rotr32L:Ls,rotlSH:Ts,rotlSL:Ps,rotlBH:Cs,rotlBL:Rs,add:js,add3L:zs,add3H:Ms,add4L:ks,add4H:Ds,add5H:qs,add5L:Hs},[Fs,Vs]=H.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ne=new Uint32Array(80),Le=new Uint32Array(80);let Ys=class extends vs{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:c,Eh:a,El:u,Fh:f,Fl:h,Gh:p,Gl:g,Hh:l,Hl:d}=this;return[e,t,r,n,i,o,s,c,a,u,f,h,p,g,l,d]}set(e,t,r,n,i,o,s,c,a,u,f,h,p,g,l,d){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=o|0,this.Dh=s|0,this.Dl=c|0,this.Eh=a|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=l|0,this.Hl=d|0}process(e,t){for(let w=0;w<16;w++,t+=4)Ne[w]=e.getUint32(t),Le[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const m=Ne[w-15]|0,x=Le[w-15]|0,L=H.rotrSH(m,x,1)^H.rotrSH(m,x,8)^H.shrSH(m,x,7),N=H.rotrSL(m,x,1)^H.rotrSL(m,x,8)^H.shrSL(m,x,7),_=Ne[w-2]|0,S=Le[w-2]|0,U=H.rotrSH(_,S,19)^H.rotrBH(_,S,61)^H.shrSH(_,S,6),z=H.rotrSL(_,S,19)^H.rotrBL(_,S,61)^H.shrSL(_,S,6),T=H.add4L(N,z,Le[w-7],Le[w-16]),R=H.add4H(T,L,U,Ne[w-7],Ne[w-16]);Ne[w]=R|0,Le[w]=T|0}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:c,Dh:a,Dl:u,Eh:f,El:h,Fh:p,Fl:g,Gh:l,Gl:d,Hh:b,Hl:E}=this;for(let w=0;w<80;w++){const m=H.rotrSH(f,h,14)^H.rotrSH(f,h,18)^H.rotrBH(f,h,41),x=H.rotrSL(f,h,14)^H.rotrSL(f,h,18)^H.rotrBL(f,h,41),L=f&p^~f&l,N=h&g^~h&d,_=H.add5L(E,x,N,Vs[w],Le[w]),S=H.add5H(_,b,m,L,Fs[w],Ne[w]),U=_|0,z=H.rotrSH(r,n,28)^H.rotrBH(r,n,34)^H.rotrBH(r,n,39),T=H.rotrSL(r,n,28)^H.rotrBL(r,n,34)^H.rotrBL(r,n,39),R=r&i^r&s^i&s,k=n&o^n&c^o&c;b=l|0,E=d|0,l=p|0,d=g|0,p=f|0,g=h|0,{h:f,l:h}=H.add(a|0,u|0,S|0,U|0),a=s|0,u=c|0,s=i|0,c=o|0,i=r|0,o=n|0;const I=H.add3L(U,T,k);r=H.add3H(I,S,z,R),n=I|0}({h:r,l:n}=H.add(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:o}=H.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:s,l:c}=H.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:a,l:u}=H.add(this.Dh|0,this.Dl|0,a|0,u|0),{h:f,l:h}=H.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:g}=H.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:l,l:d}=H.add(this.Gh|0,this.Gl|0,l|0,d|0),{h:b,l:E}=H.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(r,n,i,o,s,c,a,u,f,h,p,g,l,d,b,E)}roundClean(){Ne.fill(0),Le.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ws=ys(()=>new Ys);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Or=BigInt(0),co=BigInt(1),Zs=BigInt(2);function Sr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Br(e){if(!Sr(e))throw new Error("Uint8Array expected")}function Yt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const Ks=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ur(e){Br(e);let t="";for(let r=0;r<e.length;r++)t+=Ks[e[r]];return t}function fo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Or:BigInt("0x"+e)}const me={_0:48,_9:57,A:65,F:70,a:97,f:102};function sn(e){if(e>=me._0&&e<=me._9)return e-me._0;if(e>=me.A&&e<=me.F)return e-(me.A-10);if(e>=me.a&&e<=me.f)return e-(me.a-10)}function uo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=sn(e.charCodeAt(o)),c=sn(e.charCodeAt(o+1));if(s===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}n[i]=s*16+c}return n}function Gs(e){return fo(Ur(e))}function Nt(e){return Br(e),fo(Ur(Uint8Array.from(e).reverse()))}function lo(e,t){return uo(e.toString(16).padStart(t*2,"0"))}function hr(e,t){return lo(e,t).reverse()}function Ee(e,t,r){let n;if(typeof t=="string")try{n=uo(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Sr(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function an(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Br(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}const Wt=e=>typeof e=="bigint"&&Or<=e;function $s(e,t,r){return Wt(e)&&Wt(t)&&Wt(r)&&t<=e&&e<r}function ct(e,t,r,n){if(!$s(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Js(e){let t;for(t=0;e>Or;e>>=co,t+=1);return t}const Qs=e=>(Zs<<BigInt(e-1))-co,Xs={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Sr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ir(e,t,r={}){const n=(i,o,s)=>{const c=Xs[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[i];if(!(s&&a===void 0)&&!c(a,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+a)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}function cn(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}const te=BigInt(0),$=BigInt(1),ze=BigInt(2),ea=BigInt(3),dr=BigInt(4),fn=BigInt(5),un=BigInt(8);function X(e,t){const r=e%t;return r>=te?r:t+r}function ta(e,t,r){if(t<te)throw new Error("invalid exponent, negatives unsupported");if(r<=te)throw new Error("invalid modulus");if(r===$)return te;let n=$;for(;t>te;)t&$&&(n=n*e%r),e=e*e%r,t>>=$;return n}function we(e,t,r){let n=e;for(;t-- >te;)n*=n,n%=r;return n}function ln(e,t){if(e===te)throw new Error("invert: expected non-zero number");if(t<=te)throw new Error("invert: expected positive modulus, got "+t);let r=X(e,t),n=t,i=te,o=$;for(;r!==te;){const s=n/r,c=n%r,a=i-o*s;n=r,r=c,i=o,o=a}if(n!==$)throw new Error("invert: does not exist");return X(i,t)}function ra(e){const t=(e-$)/ze;let r,n,i;for(r=e-$,n=0;r%ze===te;r/=ze,n++);for(i=ze;i<e&&ta(i,t,e)!==e-$;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const s=(e+$)/dr;return function(c,a){const u=c.pow(a,s);if(!c.eql(c.sqr(u),a))throw new Error("Cannot find square root");return u}}const o=(r+$)/ze;return function(s,c){if(s.pow(c,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let a=n,u=s.pow(s.mul(s.ONE,i),r),f=s.pow(c,o),h=s.pow(c,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let p=1;for(let l=s.sqr(h);p<a&&!s.eql(l,s.ONE);p++)l=s.sqr(l);const g=s.pow(u,$<<BigInt(a-p-1));u=s.sqr(g),f=s.mul(f,g),h=s.mul(h,u),a=p}return f}}function na(e){if(e%dr===ea){const t=(e+$)/dr;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%un===fn){const t=(e-fn)/un;return function(r,n){const i=r.mul(n,ze),o=r.pow(i,t),s=r.mul(n,o),c=r.mul(r.mul(s,ze),o),a=r.mul(s,r.sub(c,r.ONE));if(!r.eql(r.sqr(a),n))throw new Error("Cannot find square root");return a}}return ra(e)}const oa=(e,t)=>(X(e,t)&$)===$,ia=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sa(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ia.reduce((n,i)=>(n[i]="function",n),t);return Ir(e,r)}function aa(e,t,r){if(r<te)throw new Error("invalid exponent, negatives unsupported");if(r===te)return e.ONE;if(r===$)return t;let n=e.ONE,i=t;for(;r>te;)r&$&&(n=e.mul(n,i)),i=e.sqr(i),r>>=$;return n}function ca(e,t){const r=new Array(t.length),n=t.reduce((o,s,c)=>e.is0(s)?o:(r[c]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,c)=>e.is0(s)?o:(r[c]=e.mul(o,r[c]),e.mul(o,s)),i),r}function ho(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function po(e,t,r=!1,n={}){if(e<=te)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=ho(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:o,MASK:Qs(i),ZERO:te,ONE:$,create:a=>X(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return te<=a&&a<e},is0:a=>a===te,isOdd:a=>(a&$)===$,neg:a=>X(-a,e),eql:(a,u)=>a===u,sqr:a=>X(a*a,e),add:(a,u)=>X(a+u,e),sub:(a,u)=>X(a-u,e),mul:(a,u)=>X(a*u,e),pow:(a,u)=>aa(c,a,u),div:(a,u)=>X(a*ln(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>ln(a,e),sqrt:n.sqrt||(a=>(s||(s=na(e)),s(c,a))),invertBatch:a=>ca(c,a),cmov:(a,u,f)=>f?u:a,toBytes:a=>r?hr(a,o):lo(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return r?Nt(a):Gs(a)}});return Object.freeze(c)}const hn=BigInt(0),At=BigInt(1);function Zt(e,t){const r=t.negate();return e?r:t}function bo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Kt(e,t){bo(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function fa(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function ua(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Gt=new WeakMap,go=new WeakMap;function $t(e){return go.get(e)||1}function la(e,t){return{constTimeNegate:Zt,hasPrecomputes(r){return $t(r)!==1},unsafeLadder(r,n,i=e.ZERO){let o=r;for(;n>hn;)n&At&&(i=i.add(o)),o=o.double(),n>>=At;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=Kt(n,t),s=[];let c=r,a=c;for(let u=0;u<i;u++){a=c,s.push(a);for(let f=1;f<o;f++)a=a.add(c),s.push(a);c=a.double()}return s},wNAF(r,n,i){const{windows:o,windowSize:s}=Kt(r,t);let c=e.ZERO,a=e.BASE;const u=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let p=0;p<o;p++){const g=p*s;let l=Number(i&u);i>>=h,l>s&&(l-=f,i+=At);const d=g,b=g+Math.abs(l)-1,E=p%2!==0,w=l<0;l===0?a=a.add(Zt(E,n[d])):c=c.add(Zt(w,n[b]))}return{p:c,f:a}},wNAFUnsafe(r,n,i,o=e.ZERO){const{windows:s,windowSize:c}=Kt(r,t),a=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<s;h++){const p=h*c;if(i===hn)break;let g=Number(i&a);if(i>>=f,g>c&&(g-=u,i+=At),g===0)continue;let l=n[p+Math.abs(g)-1];g<0&&(l=l.negate()),o=o.add(l)}return o},getPrecomputes(r,n,i){let o=Gt.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&Gt.set(n,i(o))),o},wNAFCached(r,n,i){const o=$t(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const s=$t(r);return s===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,o)},setWindowSize(r,n){bo(n,t),go.set(r,n),Gt.delete(r)}}}function ha(e,t,r,n){if(fa(r,e),ua(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Js(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,c=(1<<s)-1,a=new Array(c+1).fill(i),u=Math.floor((t.BITS-1)/s)*s;let f=i;for(let h=u;h>=0;h-=s){a.fill(i);for(let g=0;g<n.length;g++){const l=n[g],d=Number(l>>BigInt(h)&BigInt(c));a[d]=a[d].add(r[g])}let p=i;for(let g=a.length-1,l=i;g>0;g--)l=l.add(a[g]),p=p.add(l);if(f=f.add(p),h!==0)for(let g=0;g<s;g++)f=f.double()}return f}function da(e){return sa(e.Fp),Ir(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ho(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const pe=BigInt(0),ae=BigInt(1),Ot=BigInt(2),pa=BigInt(8),ba={zip215:!0};function ga(e){const t=da(e);return Ir(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function wa(e){const t=ga(e),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:c,h:a}=t,u=Ot<<BigInt(c*8)-ae,f=r.create,h=po(t.n,t.nBitLength),p=t.uvRatio||((v,y)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(y))}}catch{return{isValid:!1,value:pe}}}),g=t.adjustScalarBytes||(v=>v),l=t.domain||((v,y,A)=>{if(Yt("phflag",A),y.length||A)throw new Error("Contexts/pre-hash are not supported");return v});function d(v,y){ct("coordinate "+v,y,pe,u)}function b(v){if(!(v instanceof m))throw new Error("ExtendedPoint expected")}const E=cn((v,y)=>{const{ex:A,ey:B,ez:O}=v,P=v.is0();y==null&&(y=P?pa:r.inv(O));const C=f(A*y),j=f(B*y),M=f(O*y);if(P)return{x:pe,y:ae};if(M!==ae)throw new Error("invZ was invalid");return{x:C,y:j}}),w=cn(v=>{const{a:y,d:A}=t;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:O,ez:P,et:C}=v,j=f(B*B),M=f(O*O),D=f(P*P),F=f(D*D),Y=f(j*y),Q=f(D*f(Y+M)),G=f(F+f(A*f(j*M)));if(Q!==G)throw new Error("bad point: equation left != right (1)");const Z=f(B*O),he=f(P*C);if(Z!==he)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(y,A,B,O){this.ex=y,this.ey=A,this.ez=B,this.et=O,d("x",y),d("y",A),d("z",B),d("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof m)throw new Error("extended point not allowed");const{x:A,y:B}=y||{};return d("x",A),d("y",B),new m(A,B,ae,f(A*B))}static normalizeZ(y){const A=r.invertBatch(y.map(B=>B.ez));return y.map((B,O)=>B.toAffine(A[O])).map(m.fromAffine)}static msm(y,A){return ha(m,h,y,A)}_setWindowSize(y){N.setWindowSize(this,y)}assertValidity(){w(this)}equals(y){b(y);const{ex:A,ey:B,ez:O}=this,{ex:P,ey:C,ez:j}=y,M=f(A*j),D=f(P*O),F=f(B*j),Y=f(C*O);return M===D&&F===Y}is0(){return this.equals(m.ZERO)}negate(){return new m(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:y}=t,{ex:A,ey:B,ez:O}=this,P=f(A*A),C=f(B*B),j=f(Ot*f(O*O)),M=f(y*P),D=A+B,F=f(f(D*D)-P-C),Y=M+C,Q=Y-j,G=M-C,Z=f(F*Q),he=f(Y*G),fe=f(F*G),de=f(Q*Y);return new m(Z,he,de,fe)}add(y){b(y);const{a:A,d:B}=t,{ex:O,ey:P,ez:C,et:j}=this,{ex:M,ey:D,ez:F,et:Y}=y;if(A===BigInt(-1)){const Rr=f((P-O)*(D+M)),jr=f((P+O)*(D-M)),qt=f(jr-Rr);if(qt===pe)return this.double();const zr=f(C*Ot*Y),Mr=f(j*Ot*F),kr=Mr+zr,Dr=jr+Rr,Hr=Mr-zr,fi=f(kr*qt),ui=f(Dr*Hr),li=f(kr*Hr),hi=f(qt*Dr);return new m(fi,ui,hi,li)}const Q=f(O*M),G=f(P*D),Z=f(j*B*Y),he=f(C*F),fe=f((O+P)*(M+D)-Q-G),de=he-Z,ge=he+Z,Ue=f(G-A*Q),vt=f(fe*de),si=f(ge*Ue),ai=f(fe*Ue),ci=f(de*ge);return new m(vt,si,ci,ai)}subtract(y){return this.add(y.negate())}wNAF(y){return N.wNAFCached(this,y,m.normalizeZ)}multiply(y){const A=y;ct("scalar",A,ae,n);const{p:B,f:O}=this.wNAF(A);return m.normalizeZ([B,O])[0]}multiplyUnsafe(y,A=m.ZERO){const B=y;return ct("scalar",B,pe,n),B===pe?L:this.is0()||B===ae?this:N.wNAFCachedUnsafe(this,B,m.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return N.unsafeLadder(this,n).is0()}toAffine(y){return E(this,y)}clearCofactor(){const{h:y}=t;return y===ae?this:this.multiplyUnsafe(y)}static fromHex(y,A=!1){const{d:B,a:O}=t,P=r.BYTES;y=Ee("pointHex",y,P),Yt("zip215",A);const C=y.slice(),j=y[P-1];C[P-1]=j&-129;const M=Nt(C),D=A?u:r.ORDER;ct("pointHex.y",M,pe,D);const F=f(M*M),Y=f(F-ae),Q=f(B*F-O);let{isValid:G,value:Z}=p(Y,Q);if(!G)throw new Error("Point.fromHex: invalid y coordinate");const he=(Z&ae)===ae,fe=(j&128)!==0;if(!A&&Z===pe&&fe)throw new Error("Point.fromHex: x=0 and x_0=1");return fe!==he&&(Z=f(-Z)),m.fromAffine({x:Z,y:M})}static fromPrivateKey(y){return U(y).point}toRawBytes(){const{x:y,y:A}=this.toAffine(),B=hr(A,r.BYTES);return B[B.length-1]|=y&ae?128:0,B}toHex(){return Ur(this.toRawBytes())}}m.BASE=new m(t.Gx,t.Gy,ae,f(t.Gx*t.Gy)),m.ZERO=new m(pe,ae,ae,pe);const{BASE:x,ZERO:L}=m,N=la(m,c*8);function _(v){return X(v,n)}function S(v){return _(Nt(v))}function U(v){const y=r.BYTES;v=Ee("private key",v,y);const A=Ee("hashed private key",o(v),2*y),B=g(A.slice(0,y)),O=A.slice(y,2*y),P=S(B),C=x.multiply(P),j=C.toRawBytes();return{head:B,prefix:O,scalar:P,point:C,pointBytes:j}}function z(v){return U(v).pointBytes}function T(v=new Uint8Array,...y){const A=an(...y);return S(o(l(A,Ee("context",v),!!i)))}function R(v,y,A={}){v=Ee("message",v),i&&(v=i(v));const{prefix:B,scalar:O,pointBytes:P}=U(y),C=T(A.context,B,v),j=x.multiply(C).toRawBytes(),M=T(A.context,j,P,v),D=_(C+M*O);ct("signature.s",D,pe,n);const F=an(j,hr(D,r.BYTES));return Ee("result",F,r.BYTES*2)}const k=ba;function I(v,y,A,B=k){const{context:O,zip215:P}=B,C=r.BYTES;v=Ee("signature",v,2*C),y=Ee("message",y),A=Ee("publicKey",A,C),P!==void 0&&Yt("zip215",P),i&&(y=i(y));const j=Nt(v.slice(C,2*C));let M,D,F;try{M=m.fromHex(A,P),D=m.fromHex(v.slice(0,C),P),F=x.multiplyUnsafe(j)}catch{return!1}if(!P&&M.isSmallOrder())return!1;const Y=T(O,D.toRawBytes(),M.toRawBytes(),y);return D.add(M.multiplyUnsafe(Y)).subtract(F).clearCofactor().equals(m.ZERO)}return x._setWindowSize(8),{CURVE:t,getPublicKey:z,sign:R,verify:I,ExtendedPoint:m,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>s(r.BYTES),precompute(v=8,y=m.BASE){return y._setWindowSize(v),y.multiply(BigInt(3)),y}}}}BigInt(0),BigInt(1);const Nr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),dn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ya=BigInt(1),pn=BigInt(2);BigInt(3);const ma=BigInt(5),Ea=BigInt(8);function va(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Nr,s=e*e%o*e%o,c=we(s,pn,o)*s%o,a=we(c,ya,o)*e%o,u=we(a,ma,o)*a%o,f=we(u,t,o)*u%o,h=we(f,r,o)*f%o,p=we(h,n,o)*h%o,g=we(p,i,o)*p%o,l=we(g,i,o)*p%o,d=we(l,t,o)*u%o;return{pow_p_5_8:we(d,pn,o)*e%o,b2:s}}function xa(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function _a(e,t){const r=Nr,n=X(t*t*t,r),i=X(n*n*t,r),o=va(e*i).pow_p_5_8;let s=X(e*n*o,r);const c=X(t*s*s,r),a=s,u=X(s*dn,r),f=c===e,h=c===X(-e,r),p=c===X(-e*dn,r);return f&&(s=a),(h||p)&&(s=u),oa(s,r)&&(s=X(-s,r)),{isValid:f||h,value:s}}const Aa=po(Nr,void 0,!0),Oa={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Aa,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ea,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ws,randomBytes:ms,adjustScalarBytes:xa,uvRatio:_a};wa(Oa);function Sa(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var c=e.length,a=e.charAt(0),u=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var d=0,b=0,E=0,w=l.length;E!==w&&l[E]===0;)E++,d++;for(var m=(w-E)*f+1>>>0,x=new Uint8Array(m);E!==w;){for(var L=l[E],N=0,_=m-1;(L!==0||N<b)&&_!==-1;_--,N++)L+=256*x[_]>>>0,x[_]=L%c>>>0,L=L/c>>>0;if(L!==0)throw new Error("Non-zero carry");b=N,E++}for(var S=m-b;S!==m&&x[S]===0;)S++;for(var U=a.repeat(d);S<m;++S)U+=e.charAt(x[S]);return U}function p(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var d=0;if(l[d]!==" "){for(var b=0,E=0;l[d]===a;)b++,d++;for(var w=(l.length-d)*u+1>>>0,m=new Uint8Array(w);l[d];){var x=r[l.charCodeAt(d)];if(x===255)return;for(var L=0,N=w-1;(x!==0||L<E)&&N!==-1;N--,L++)x+=c*m[N]>>>0,m[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=L,d++}if(l[d]!==" "){for(var _=w-E;_!==w&&m[_]===0;)_++;for(var S=new Uint8Array(b+(w-_)),U=b;_!==w;)S[U++]=m[_++];return S}}}function g(l){var d=p(l);if(d)return d;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var Ba=Sa,Ua=Ba;const wo=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Ia=e=>new TextEncoder().encode(e),Na=e=>new TextDecoder().decode(e);let La=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ta=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yo(this,e)}},Pa=class{constructor(e){this.decoders=e}or(e){return yo(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const yo=(e,t)=>new Pa({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let Ca=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new La(e,t,r),this.decoder=new Ta(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ct=({name:e,prefix:t,encode:r,decode:n})=>new Ca(e,t,r,n),gt=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Ua(r,t);return Ct({prefix:e,name:t,encode:n,decode:o=>wo(i(o))})},Ra=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*r/8|0);let c=0,a=0,u=0;for(let f=0;f<o;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|h,c+=r,c>=8&&(c-=8,s[u++]=255&a>>c)}if(c>=r||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s},ja=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",s=0,c=0;for(let a=0;a<e.length;++a)for(c=c<<8|e[a],s+=8;s>r;)s-=r,o+=t[i&c>>s];if(s&&(o+=t[i&c<<r-s]),n)for(;o.length*r&7;)o+="=";return o},oe=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ct({prefix:t,name:e,encode(i){return ja(i,n,r)},decode(i){return Ra(i,n,r,e)}}),za=Ct({prefix:"\0",name:"identity",encode:e=>Na(e),decode:e=>Ia(e)});var Ma=Object.freeze({__proto__:null,identity:za});const ka=oe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Da=Object.freeze({__proto__:null,base2:ka});const Ha=oe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qa=Object.freeze({__proto__:null,base8:Ha});const Fa=gt({prefix:"9",name:"base10",alphabet:"0123456789"});var Va=Object.freeze({__proto__:null,base10:Fa});const Ya=oe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Wa=oe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Za=Object.freeze({__proto__:null,base16:Ya,base16upper:Wa});const Ka=oe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ga=oe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$a=oe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ja=oe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qa=oe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xa=oe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ec=oe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tc=oe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rc=oe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var nc=Object.freeze({__proto__:null,base32:Ka,base32upper:Ga,base32pad:$a,base32padupper:Ja,base32hex:Qa,base32hexupper:Xa,base32hexpad:ec,base32hexpadupper:tc,base32z:rc});const oc=gt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ic=gt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var sc=Object.freeze({__proto__:null,base36:oc,base36upper:ic});const ac=gt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cc=gt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var fc=Object.freeze({__proto__:null,base58btc:ac,base58flickr:cc});const uc=oe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lc=oe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hc=oe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dc=oe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pc=Object.freeze({__proto__:null,base64:uc,base64pad:lc,base64url:hc,base64urlpad:dc});const mo=Array.from(""),bc=mo.reduce((e,t,r)=>(e[r]=t,e),[]),gc=mo.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function wc(e){return e.reduce((t,r)=>(t+=bc[r],t),"")}function yc(e){const t=[];for(const r of e){const n=gc[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const mc=Ct({prefix:"",name:"base256emoji",encode:wc,decode:yc});var Ec=Object.freeze({__proto__:null,base256emoji:mc}),vc=Eo,bn=128,xc=-128,_c=Math.pow(2,31);function Eo(e,t,r){t=t||[],r=r||0;for(var n=r;e>=_c;)t[r++]=e&255|bn,e/=128;for(;e&xc;)t[r++]=e&255|bn,e>>>=7;return t[r]=e|0,Eo.bytes=r-n+1,t}var Ac=pr,Oc=128,gn=127;function pr(e,n){var r=0,n=n||0,i=0,o=n,s,c=e.length;do{if(o>=c)throw pr.bytes=0,new RangeError("Could not decode varint");s=e[o++],r+=i<28?(s&gn)<<i:(s&gn)*Math.pow(2,i),i+=7}while(s>=Oc);return pr.bytes=o-n,r}var Sc=Math.pow(2,7),Bc=Math.pow(2,14),Uc=Math.pow(2,21),Ic=Math.pow(2,28),Nc=Math.pow(2,35),Lc=Math.pow(2,42),Tc=Math.pow(2,49),Pc=Math.pow(2,56),Cc=Math.pow(2,63),Rc=function(e){return e<Sc?1:e<Bc?2:e<Uc?3:e<Ic?4:e<Nc?5:e<Lc?6:e<Tc?7:e<Pc?8:e<Cc?9:10},jc={encode:vc,decode:Ac,encodingLength:Rc},vo=jc;const wn=(e,t,r=0)=>(vo.encode(e,t,r),t),yn=e=>vo.encodingLength(e),br=(e,t)=>{const r=t.byteLength,n=yn(e),i=n+yn(r),o=new Uint8Array(i+r);return wn(e,o,0),wn(r,o,n),o.set(t,i),new zc(e,r,t,o)};let zc=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};const xo=({name:e,code:t,encode:r})=>new Mc(e,t,r);let Mc=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?br(this.code,t):t.then(r=>br(this.code,r))}else throw Error("Unknown type, must be binary type")}};const _o=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),kc=xo({name:"sha2-256",code:18,encode:_o("SHA-256")}),Dc=xo({name:"sha2-512",code:19,encode:_o("SHA-512")});var Hc=Object.freeze({__proto__:null,sha256:kc,sha512:Dc});const Ao=0,qc="identity",Oo=wo,Fc=e=>br(Ao,Oo(e)),Vc={code:Ao,name:qc,encode:Oo,digest:Fc};var Yc=Object.freeze({__proto__:null,identity:Vc});new TextEncoder,new TextDecoder;({...Ma,...Da,...qa,...Va,...Za,...nc,...sc,...fc,...pc,...Ec});({...Hc,...Yc});var K={};Object.defineProperty(K,"__esModule",{value:!0});K.getLocalStorage=K.getLocalStorageOrThrow=K.getCrypto=K.getCryptoOrThrow=K.getLocation=K.getLocationOrThrow=K.getNavigator=K.getNavigatorOrThrow=K.getDocument=K.getDocumentOrThrow=K.getFromWindowOrThrow=K.getFromWindow=void 0;function He(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}K.getFromWindow=He;function ot(e){const t=He(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}K.getFromWindowOrThrow=ot;function Wc(){return ot("document")}K.getDocumentOrThrow=Wc;function Zc(){return He("document")}K.getDocument=Zc;function Kc(){return ot("navigator")}K.getNavigatorOrThrow=Kc;function Gc(){return He("navigator")}K.getNavigator=Gc;function $c(){return ot("location")}K.getLocationOrThrow=$c;function Jc(){return He("location")}K.getLocation=Jc;function Qc(){return ot("crypto")}K.getCryptoOrThrow=Qc;function Xc(){return He("crypto")}K.getCrypto=Xc;function ef(){return ot("localStorage")}K.getLocalStorageOrThrow=ef;function tf(){return He("localStorage")}K.getLocalStorage=tf;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getWindowMetadata=void 0;const mn=K;function rf(){let e,t;try{e=mn.getDocumentOrThrow(),t=mn.getLocationOrThrow()}catch{return null}function r(){const f=e.getElementsByTagName("link"),h=[];for(let p=0;p<f.length;p++){const g=f[p],l=g.getAttribute("rel");if(l&&l.toLowerCase().indexOf("icon")>-1){const d=g.getAttribute("href");if(d)if(d.toLowerCase().indexOf("https:")===-1&&d.toLowerCase().indexOf("http:")===-1&&d.indexOf("//")!==0){let b=t.protocol+"//"+t.host;if(d.indexOf("/")===0)b+=d;else{const E=t.pathname.split("/");E.pop();const w=E.join("/");b+=w+"/"+d}h.push(b)}else if(d.indexOf("//")===0){const b=t.protocol+d;h.push(b)}else h.push(d)}}return h}function n(...f){const h=e.getElementsByTagName("meta");for(let p=0;p<h.length;p++){const g=h[p],l=["itemprop","property","name"].map(d=>g.getAttribute(d)).filter(d=>d?f.includes(d):!1);if(l.length&&l){const d=g.getAttribute("content");if(d)return d}}return""}function i(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=e.title),f}function o(){return n("description","og:description","twitter:description","keywords")}const s=i(),c=o(),a=t.origin,u=r();return{description:c,url:a,icons:u,name:s}}Lr.getWindowMetadata=rf;function nf(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const f=e.charAt(u),h=f.charCodeAt(0);if(t[h]!==255)throw new TypeError(f+" is ambiguous");t[h]=u}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let f=0,h=0,p=0;const g=u.length;for(;p!==g&&u[p]===0;)p++,f++;const l=(g-p)*o+1>>>0,d=new Uint8Array(l);for(;p!==g;){let w=u[p],m=0;for(let x=l-1;(w!==0||m<h)&&x!==-1;x--,m++)w+=256*d[x]>>>0,d[x]=w%r>>>0,w=w/r>>>0;if(w!==0)throw new Error("Non-zero carry");h=m,p++}let b=l-h;for(;b!==l&&d[b]===0;)b++;let E=n.repeat(f);for(;b<l;++b)E+=e.charAt(d[b]);return E}function c(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let f=0,h=0,p=0;for(;u[f]===n;)h++,f++;const g=(u.length-f)*i+1>>>0,l=new Uint8Array(g);for(;f<u.length;){const w=u.charCodeAt(f);if(w>255)return;let m=t[w];if(m===255)return;let x=0;for(let L=g-1;(m!==0||x<p)&&L!==-1;L--,x++)m+=r*l[L]>>>0,l[L]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");p=x,f++}let d=g-p;for(;d!==g&&l[d]===0;)d++;const b=new Uint8Array(h+(g-d));let E=h;for(;d!==g;)b[E++]=l[d++];return b}function a(u){const f=c(u);if(f)return f;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:a}}var of="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";nf(of);function sf(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var c=e.length,a=e.charAt(0),u=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var d=0,b=0,E=0,w=l.length;E!==w&&l[E]===0;)E++,d++;for(var m=(w-E)*f+1>>>0,x=new Uint8Array(m);E!==w;){for(var L=l[E],N=0,_=m-1;(L!==0||N<b)&&_!==-1;_--,N++)L+=256*x[_]>>>0,x[_]=L%c>>>0,L=L/c>>>0;if(L!==0)throw new Error("Non-zero carry");b=N,E++}for(var S=m-b;S!==m&&x[S]===0;)S++;for(var U=a.repeat(d);S<m;++S)U+=e.charAt(x[S]);return U}function p(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var d=0;if(l[d]!==" "){for(var b=0,E=0;l[d]===a;)b++,d++;for(var w=(l.length-d)*u+1>>>0,m=new Uint8Array(w);l[d];){var x=r[l.charCodeAt(d)];if(x===255)return;for(var L=0,N=w-1;(x!==0||L<E)&&N!==-1;N--,L++)x+=c*m[N]>>>0,m[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=L,d++}if(l[d]!==" "){for(var _=w-E;_!==w&&m[_]===0;)_++;for(var S=new Uint8Array(b+(w-_)),U=b;_!==w;)S[U++]=m[_++];return S}}}function g(l){var d=p(l);if(d)return d;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var af=sf,cf=af;const ff=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},uf=e=>new TextEncoder().encode(e),lf=e=>new TextDecoder().decode(e);class hf{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class df{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return So(this,t)}}class pf{constructor(t){this.decoders=t}or(t){return So(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const So=(e,t)=>new pf({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class bf{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new hf(t,r,n),this.decoder=new df(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Rt=({name:e,prefix:t,encode:r,decode:n})=>new bf(e,t,r,n),wt=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=cf(r,t);return Rt({prefix:e,name:t,encode:n,decode:o=>ff(i(o))})},gf=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*r/8|0);let c=0,a=0,u=0;for(let f=0;f<o;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|h,c+=r,c>=8&&(c-=8,s[u++]=255&a>>c)}if(c>=r||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s},wf=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",s=0,c=0;for(let a=0;a<e.length;++a)for(c=c<<8|e[a],s+=8;s>r;)s-=r,o+=t[i&c>>s];if(s&&(o+=t[i&c<<r-s]),n)for(;o.length*r&7;)o+="=";return o},ie=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Rt({prefix:t,name:e,encode(i){return wf(i,n,r)},decode(i){return gf(i,n,r,e)}}),yf=Rt({prefix:"\0",name:"identity",encode:e=>lf(e),decode:e=>uf(e)}),mf=Object.freeze(Object.defineProperty({__proto__:null,identity:yf},Symbol.toStringTag,{value:"Module"})),Ef=ie({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),vf=Object.freeze(Object.defineProperty({__proto__:null,base2:Ef},Symbol.toStringTag,{value:"Module"})),xf=ie({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),_f=Object.freeze(Object.defineProperty({__proto__:null,base8:xf},Symbol.toStringTag,{value:"Module"})),Af=wt({prefix:"9",name:"base10",alphabet:"0123456789"}),Of=Object.freeze(Object.defineProperty({__proto__:null,base10:Af},Symbol.toStringTag,{value:"Module"})),Sf=ie({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Bf=ie({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Uf=Object.freeze(Object.defineProperty({__proto__:null,base16:Sf,base16upper:Bf},Symbol.toStringTag,{value:"Module"})),If=ie({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nf=ie({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Lf=ie({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tf=ie({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pf=ie({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Cf=ie({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rf=ie({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jf=ie({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zf=ie({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Mf=Object.freeze(Object.defineProperty({__proto__:null,base32:If,base32hex:Pf,base32hexpad:Rf,base32hexpadupper:jf,base32hexupper:Cf,base32pad:Lf,base32padupper:Tf,base32upper:Nf,base32z:zf},Symbol.toStringTag,{value:"Module"})),kf=wt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Df=wt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Hf=Object.freeze(Object.defineProperty({__proto__:null,base36:kf,base36upper:Df},Symbol.toStringTag,{value:"Module"})),qf=wt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ff=wt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Vf=Object.freeze(Object.defineProperty({__proto__:null,base58btc:qf,base58flickr:Ff},Symbol.toStringTag,{value:"Module"})),Yf=ie({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Wf=ie({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zf=ie({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kf=ie({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Gf=Object.freeze(Object.defineProperty({__proto__:null,base64:Yf,base64pad:Wf,base64url:Zf,base64urlpad:Kf},Symbol.toStringTag,{value:"Module"})),Bo=Array.from(""),$f=Bo.reduce((e,t,r)=>(e[r]=t,e),[]),Jf=Bo.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Qf(e){return e.reduce((t,r)=>(t+=$f[r],t),"")}function Xf(e){const t=[];for(const r of e){const n=Jf[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const eu=Rt({prefix:"",name:"base256emoji",encode:Qf,decode:Xf}),tu=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:eu},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;({...mf,...vf,..._f,...Of,...Uf,...Mf,...Hf,...Vf,...Gf,...tu});function Lt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ru(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yt(e,...t){if(!ru(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lt(e.outputLen),Lt(e.blockLen)}function Qe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Uo(e,t){yt(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const St=BigInt(2**32-1),En=BigInt(32);function ou(e,t=!1){return t?{h:Number(e&St),l:Number(e>>En&St)}:{h:Number(e>>En&St)|0,l:Number(e&St)|0}}function iu(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ou(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const su=(e,t,r)=>e<<r|t>>>32-r,au=(e,t,r)=>t<<r|e>>>32-r,cu=(e,t,r)=>t<<r-32|e>>>64-r,fu=(e,t,r)=>e<<r-32|t>>>64-r,Ke=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function uu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Jt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ye(e,t){return e<<32-t|e>>>t}const vn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lu(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function xn(e){for(let t=0;t<e.length;t++)e[t]=lu(e[t])}function hu(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function jt(e){return typeof e=="string"&&(e=hu(e)),yt(e),e}function du(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];yt(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}class Tr{clone(){return this._cloneInto()}}function Io(e){const t=n=>e().update(jt(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function No(e=32){if(Ke&&typeof Ke.getRandomValues=="function")return Ke.getRandomValues(new Uint8Array(e));if(Ke&&typeof Ke.randomBytes=="function")return Ke.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Lo=[],To=[],Po=[],pu=BigInt(0),ft=BigInt(1),bu=BigInt(2),gu=BigInt(7),wu=BigInt(256),yu=BigInt(113);for(let e=0,t=ft,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Lo.push(2*(5*n+r)),To.push((e+1)*(e+2)/2%64);let i=pu;for(let o=0;o<7;o++)t=(t<<ft^(t>>gu)*yu)%wu,t&bu&&(i^=ft<<(ft<<BigInt(o))-ft);Po.push(i)}const[mu,Eu]=iu(Po,!0),_n=(e,t,r)=>r>32?cu(e,t,r):su(e,t,r),An=(e,t,r)=>r>32?fu(e,t,r):au(e,t,r);function vu(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=r[a],f=r[a+1],h=_n(u,f,1)^r[c],p=An(u,f,1)^r[c+1];for(let g=0;g<50;g+=10)e[s+g]^=h,e[s+g+1]^=p}let i=e[2],o=e[3];for(let s=0;s<24;s++){const c=To[s],a=_n(i,o,c),u=An(i,o,c),f=Lo[s];i=e[f],o=e[f+1],e[f]=a,e[f+1]=u}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=e[s+c];for(let c=0;c<10;c++)e[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=mu[n],e[1]^=Eu[n]}r.fill(0)}let xu=class Co extends Tr{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lt(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=uu(this.state)}keccak(){vn||xn(this.state32),vu(this.state32,this.rounds),vn||xn(this.state32),this.posOut=0,this.pos=0}update(t){Qe(this);const{blockLen:r,state:n}=this;t=jt(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Qe(this,!1),yt(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Lt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Uo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Co(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const _u=(e,t,r)=>Io(()=>new xu(t,e,r));_u(1,136,256/8);function Qt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ro(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function le(e,...t){if(!Ro(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function On(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Au(e,t){le(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Sn(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const Ce=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ou=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Su=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Su)throw new Error("Non little-endian hardware is not supported");function Bu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function gr(e){if(typeof e=="string")e=Bu(e);else if(Ro(e))e=wr(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Uu(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Iu(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const Nu=(e,t)=>{function r(n,...i){if(le(n),e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?le(u):le(u,e.nonceLength)}const o=e.tagLength;o&&i[1]!==void 0&&le(i[1]);const s=t(n,...i),c=(u,f)=>{if(f!==void 0){if(u!==2)throw new Error("cipher output not supported");le(f)}};let a=!1;return{encrypt(u,f){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,le(u),c(s.encrypt.length,f),s.encrypt(u,f)},decrypt(u,f){if(le(u),o&&u.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(s.decrypt.length,f),s.decrypt(u,f)}}}return Object.assign(r,e),r};function Bn(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!Lu(t))throw new Error("invalid output, must be aligned");return t}function Un(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o);e.setUint32(t+4,s,n),e.setUint32(t+0,c,n)}function Lu(e){return e.byteOffset%4===0}function wr(e){return Uint8Array.from(e)}function Xe(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const jo=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Tu=jo("expand 16-byte k"),Pu=jo("expand 32-byte k"),Cu=Ce(Tu),Ru=Ce(Pu);function V(e,t){return e<<t|e>>>32-t}function yr(e){return e.byteOffset%4===0}const Bt=64,ju=16,zo=2**32-1,In=new Uint32Array;function zu(e,t,r,n,i,o,s,c){const a=i.length,u=new Uint8Array(Bt),f=Ce(u),h=yr(i)&&yr(o),p=h?Ce(i):In,g=h?Ce(o):In;for(let l=0;l<a;s++){if(e(t,r,n,f,s,c),s>=zo)throw new Error("arx: counter overflow");const d=Math.min(Bt,a-l);if(h&&d===Bt){const b=l/4;if(l%4!==0)throw new Error("arx: invalid block position");for(let E=0,w;E<ju;E++)w=b+E,g[w]=p[w]^f[E];l+=Bt;continue}for(let b=0,E;b<d;b++)E=l+b,o[E]=i[E]^u[b];l+=d}}function Mu(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:s}=Uu({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Qt(i),Qt(s),Sn(o),Sn(r),(c,a,u,f,h=0)=>{le(c),le(a),le(u);const p=u.length;if(f===void 0&&(f=new Uint8Array(p)),le(f),Qt(h),h<0||h>=zo)throw new Error("arx: counter overflow");if(f.length<p)throw new Error(`arx: output (${f.length}) is shorter than data (${p})`);const g=[];let l=c.length,d,b;if(l===32)g.push(d=wr(c)),b=Ru;else if(l===16&&r)d=new Uint8Array(32),d.set(c),d.set(c,16),b=Cu,g.push(d);else throw new Error(`arx: invalid 32-byte key, got length=${l}`);yr(a)||g.push(a=wr(a));const E=Ce(d);if(n){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,E,Ce(a.subarray(0,16)),E),a=a.subarray(16)}const w=16-i;if(w!==a.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const x=new Uint8Array(12);x.set(a,o?0:12-a.length),a=x,g.push(a)}const m=Ce(a);return zu(e,b,E,m,u,f,h,s),Xe(...g),f}}const ne=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class ku{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=gr(t),le(t,32);const r=ne(t,0),n=ne(t,2),i=ne(t,4),o=ne(t,6),s=ne(t,8),c=ne(t,10),a=ne(t,12),u=ne(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let f=0;f<8;f++)this.pad[f]=ne(t,16+2*f)}process(t,r,n=!1){const i=n?0:2048,{h:o,r:s}=this,c=s[0],a=s[1],u=s[2],f=s[3],h=s[4],p=s[5],g=s[6],l=s[7],d=s[8],b=s[9],E=ne(t,r+0),w=ne(t,r+2),m=ne(t,r+4),x=ne(t,r+6),L=ne(t,r+8),N=ne(t,r+10),_=ne(t,r+12),S=ne(t,r+14);let U=o[0]+(E&8191),z=o[1]+((E>>>13|w<<3)&8191),T=o[2]+((w>>>10|m<<6)&8191),R=o[3]+((m>>>7|x<<9)&8191),k=o[4]+((x>>>4|L<<12)&8191),I=o[5]+(L>>>1&8191),v=o[6]+((L>>>14|N<<2)&8191),y=o[7]+((N>>>11|_<<5)&8191),A=o[8]+((_>>>8|S<<8)&8191),B=o[9]+(S>>>5|i),O=0,P=O+U*c+z*(5*b)+T*(5*d)+R*(5*l)+k*(5*g);O=P>>>13,P&=8191,P+=I*(5*p)+v*(5*h)+y*(5*f)+A*(5*u)+B*(5*a),O+=P>>>13,P&=8191;let C=O+U*a+z*c+T*(5*b)+R*(5*d)+k*(5*l);O=C>>>13,C&=8191,C+=I*(5*g)+v*(5*p)+y*(5*h)+A*(5*f)+B*(5*u),O+=C>>>13,C&=8191;let j=O+U*u+z*a+T*c+R*(5*b)+k*(5*d);O=j>>>13,j&=8191,j+=I*(5*l)+v*(5*g)+y*(5*p)+A*(5*h)+B*(5*f),O+=j>>>13,j&=8191;let M=O+U*f+z*u+T*a+R*c+k*(5*b);O=M>>>13,M&=8191,M+=I*(5*d)+v*(5*l)+y*(5*g)+A*(5*p)+B*(5*h),O+=M>>>13,M&=8191;let D=O+U*h+z*f+T*u+R*a+k*c;O=D>>>13,D&=8191,D+=I*(5*b)+v*(5*d)+y*(5*l)+A*(5*g)+B*(5*p),O+=D>>>13,D&=8191;let F=O+U*p+z*h+T*f+R*u+k*a;O=F>>>13,F&=8191,F+=I*c+v*(5*b)+y*(5*d)+A*(5*l)+B*(5*g),O+=F>>>13,F&=8191;let Y=O+U*g+z*p+T*h+R*f+k*u;O=Y>>>13,Y&=8191,Y+=I*a+v*c+y*(5*b)+A*(5*d)+B*(5*l),O+=Y>>>13,Y&=8191;let Q=O+U*l+z*g+T*p+R*h+k*f;O=Q>>>13,Q&=8191,Q+=I*u+v*a+y*c+A*(5*b)+B*(5*d),O+=Q>>>13,Q&=8191;let G=O+U*d+z*l+T*g+R*p+k*h;O=G>>>13,G&=8191,G+=I*f+v*u+y*a+A*c+B*(5*b),O+=G>>>13,G&=8191;let Z=O+U*b+z*d+T*l+R*g+k*p;O=Z>>>13,Z&=8191,Z+=I*h+v*f+y*u+A*a+B*c,O+=Z>>>13,Z&=8191,O=(O<<2)+O|0,O=O+P|0,P=O&8191,O=O>>>13,C+=O,o[0]=P,o[1]=C,o[2]=j,o[3]=M,o[4]=D,o[5]=F,o[6]=Y,o[7]=Q,o[8]=G,o[9]=Z}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=i,i=t[c]>>>13,t[c]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,n[0]=t[0]+5,i=n[0]>>>13,n[0]&=8191;for(let c=1;c<10;c++)n[c]=t[c]+i,i=n[c]>>>13,n[c]&=8191;n[9]-=8192;let o=(i^1)-1;for(let c=0;c<10;c++)n[c]&=o;o=~o;for(let c=0;c<10;c++)t[c]=t[c]&o|n[c];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+r[0];t[0]=s&65535;for(let c=1;c<8;c++)s=(t[c]+r[c]|0)+(s>>>16)|0,t[c]=s&65535;Xe(n)}update(t){On(this);const{buffer:r,blockLen:n}=this;t=gr(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Xe(this.h,this.r,this.buffer,this.pad)}digestInto(t){On(this),Au(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=n[s]>>>0,t[o++]=n[s]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}}function Du(e){const t=(n,i)=>e(i).update(gr(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const Hu=Du(e=>new ku(e));function qu(e,t,r,n,i,o=20){let s=e[0],c=e[1],a=e[2],u=e[3],f=t[0],h=t[1],p=t[2],g=t[3],l=t[4],d=t[5],b=t[6],E=t[7],w=i,m=r[0],x=r[1],L=r[2],N=s,_=c,S=a,U=u,z=f,T=h,R=p,k=g,I=l,v=d,y=b,A=E,B=w,O=m,P=x,C=L;for(let M=0;M<o;M+=2)N=N+z|0,B=V(B^N,16),I=I+B|0,z=V(z^I,12),N=N+z|0,B=V(B^N,8),I=I+B|0,z=V(z^I,7),_=_+T|0,O=V(O^_,16),v=v+O|0,T=V(T^v,12),_=_+T|0,O=V(O^_,8),v=v+O|0,T=V(T^v,7),S=S+R|0,P=V(P^S,16),y=y+P|0,R=V(R^y,12),S=S+R|0,P=V(P^S,8),y=y+P|0,R=V(R^y,7),U=U+k|0,C=V(C^U,16),A=A+C|0,k=V(k^A,12),U=U+k|0,C=V(C^U,8),A=A+C|0,k=V(k^A,7),N=N+T|0,C=V(C^N,16),y=y+C|0,T=V(T^y,12),N=N+T|0,C=V(C^N,8),y=y+C|0,T=V(T^y,7),_=_+R|0,B=V(B^_,16),A=A+B|0,R=V(R^A,12),_=_+R|0,B=V(B^_,8),A=A+B|0,R=V(R^A,7),S=S+k|0,O=V(O^S,16),I=I+O|0,k=V(k^I,12),S=S+k|0,O=V(O^S,8),I=I+O|0,k=V(k^I,7),U=U+z|0,P=V(P^U,16),v=v+P|0,z=V(z^v,12),U=U+z|0,P=V(P^U,8),v=v+P|0,z=V(z^v,7);let j=0;n[j++]=s+N|0,n[j++]=c+_|0,n[j++]=a+S|0,n[j++]=u+U|0,n[j++]=f+z|0,n[j++]=h+T|0,n[j++]=p+R|0,n[j++]=g+k|0,n[j++]=l+I|0,n[j++]=d+v|0,n[j++]=b+y|0,n[j++]=E+A|0,n[j++]=w+B|0,n[j++]=m+O|0,n[j++]=x+P|0,n[j++]=L+C|0}const Fu=Mu(qu,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Vu=new Uint8Array(16),Nn=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(Vu.subarray(r))},Yu=new Uint8Array(32);function Ln(e,t,r,n,i){const o=e(t,r,Yu),s=Hu.create(o);i&&Nn(s,i),Nn(s,n);const c=new Uint8Array(16),a=Ou(c);Un(a,0,BigInt(i?i.length:0),!0),Un(a,8,BigInt(n.length),!0),s.update(c);const u=s.digest();return Xe(o,c),u}const Wu=e=>(t,r,n)=>({encrypt(i,o){const s=i.length;o=Bn(s+16,o,!1),o.set(i);const c=o.subarray(0,-16);e(t,r,c,c,1);const a=Ln(e,t,r,c,n);return o.set(a,s),Xe(a),o},decrypt(i,o){o=Bn(i.length-16,o,!1);const s=i.subarray(0,-16),c=i.subarray(-16),a=Ln(e,t,r,s,n);if(!Iu(c,a))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,r,o,o,1),Xe(a),o}});Nu({blockSize:64,nonceLength:12,tagLength:16},Wu(Fu));let Mo=class extends Tr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nu(e);const r=jt(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Qe(this),this.iHash.update(e),this}digestInto(e){Qe(this),yt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e=e,e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ko=(e,t,r)=>new Mo(e,t).update(r).digest();ko.create=(e,t)=>new Mo(e,t);function Zu(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),a=n?4:0,u=n?0:4;e.setUint32(t+a,s,n),e.setUint32(t+u,c,n)}function Ku(e,t,r){return e&t^~e&r}function Gu(e,t,r){return e&t^e&r^t&r}let $u=class extends Tr{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Jt(this.buffer)}update(e){Qe(this);const{view:t,buffer:r,blockLen:n}=this;e=jt(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const c=Jt(e);for(;n<=i-o;o+=n)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qe(this),Uo(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let f=o;f<n;f++)t[f]=0;Zu(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=Jt(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=c/4,u=this.get();if(a>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)s.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const Ju=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Te=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pe=new Uint32Array(64);class Qu extends $u{constructor(){super(64,32,8,!1),this.A=Te[0]|0,this.B=Te[1]|0,this.C=Te[2]|0,this.D=Te[3]|0,this.E=Te[4]|0,this.F=Te[5]|0,this.G=Te[6]|0,this.H=Te[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:c,H:a}=this;return[t,r,n,i,o,s,c,a]}set(t,r,n,i,o,s,c,a){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=a|0}process(t,r){for(let h=0;h<16;h++,r+=4)Pe[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const p=Pe[h-15],g=Pe[h-2],l=ye(p,7)^ye(p,18)^p>>>3,d=ye(g,17)^ye(g,19)^g>>>10;Pe[h]=d+Pe[h-7]+l+Pe[h-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:a,G:u,H:f}=this;for(let h=0;h<64;h++){const p=ye(c,6)^ye(c,11)^ye(c,25),g=f+p+Ku(c,a,u)+Ju[h]+Pe[h]|0,l=(ye(n,2)^ye(n,13)^ye(n,22))+Gu(n,i,o)|0;f=u,u=a,a=c,c=s+g|0,s=o,o=i,i=n,n=g+l|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,i,o,s,c,a,u,f)}roundClean(){Pe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xu=Io(()=>new Qu);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zt=BigInt(0),Mt=BigInt(1),el=BigInt(2);function De(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function mt(e){if(!De(e))throw new Error("Uint8Array expected")}function et(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const tl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tt(e){mt(e);let t="";for(let r=0;r<e.length;r++)t+=tl[e[r]];return t}function $e(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Pr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?zt:BigInt("0x"+e)}const ve={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tn(e){if(e>=ve._0&&e<=ve._9)return e-ve._0;if(e>=ve.A&&e<=ve.F)return e-(ve.A-10);if(e>=ve.a&&e<=ve.f)return e-(ve.a-10)}function rt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=Tn(e.charCodeAt(o)),c=Tn(e.charCodeAt(o+1));if(s===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}n[i]=s*16+c}return n}function ke(e){return Pr(tt(e))}function dt(e){return mt(e),Pr(tt(Uint8Array.from(e).reverse()))}function nt(e,t){return rt(e.toString(16).padStart(t*2,"0"))}function kt(e,t){return nt(e,t).reverse()}function rl(e){return rt($e(e))}function ue(e,t,r){let n;if(typeof t=="string")try{n=rt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(De(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function pt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];mt(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function nl(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function ol(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const Xt=e=>typeof e=="bigint"&&zt<=e;function Dt(e,t,r){return Xt(e)&&Xt(t)&&Xt(r)&&t<=e&&e<r}function Be(e,t,r,n){if(!Dt(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Do(e){let t;for(t=0;e>zt;e>>=Mt,t+=1);return t}function il(e,t){return e>>BigInt(t)&Mt}function sl(e,t,r){return e|(r?Mt:zt)<<BigInt(t)}const Cr=e=>(el<<BigInt(e-1))-Mt,er=e=>new Uint8Array(e),Pn=e=>Uint8Array.from(e);function Ho(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=er(e),i=er(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},c=(...f)=>r(i,n,...f),a=(f=er())=>{i=c(Pn([0]),f),n=c(),f.length!==0&&(i=c(Pn([1]),f),n=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){n=c();const p=n.slice();h.push(p),f+=n.length}return pt(...h)};return(f,h)=>{s(),a(f);let p;for(;!(p=h(u()));)a();return s(),p}}const al={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||De(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function it(e,t,r={}){const n=(i,o,s)=>{const c=al[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[i];if(!(s&&a===void 0)&&!c(a,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+a)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}const cl=()=>{throw new Error("not implemented")};function mr(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}var fl=Object.freeze({__proto__:null,isBytes:De,abytes:mt,abool:et,bytesToHex:tt,numberToHexUnpadded:$e,hexToNumber:Pr,hexToBytes:rt,bytesToNumberBE:ke,bytesToNumberLE:dt,numberToBytesBE:nt,numberToBytesLE:kt,numberToVarBytesBE:rl,ensureBytes:ue,concatBytes:pt,equalBytes:nl,utf8ToBytes:ol,inRange:Dt,aInRange:Be,bitLen:Do,bitGet:il,bitSet:sl,bitMask:Cr,createHmacDrbg:Ho,validateObject:it,notImplemented:cl,memoized:mr});const re=BigInt(0),J=BigInt(1),Me=BigInt(2),ul=BigInt(3),Er=BigInt(4),Cn=BigInt(5),Rn=BigInt(8);function ce(e,t){const r=e%t;return r>=re?r:t+r}function qo(e,t,r){if(t<re)throw new Error("invalid exponent, negatives unsupported");if(r<=re)throw new Error("invalid modulus");if(r===J)return re;let n=J;for(;t>re;)t&J&&(n=n*e%r),e=e*e%r,t>>=J;return n}function be(e,t,r){let n=e;for(;t-- >re;)n*=n,n%=r;return n}function vr(e,t){if(e===re)throw new Error("invert: expected non-zero number");if(t<=re)throw new Error("invert: expected positive modulus, got "+t);let r=ce(e,t),n=t,i=re,o=J;for(;r!==re;){const s=n/r,c=n%r,a=i-o*s;n=r,r=c,i=o,o=a}if(n!==J)throw new Error("invert: does not exist");return ce(i,t)}function ll(e){const t=(e-J)/Me;let r,n,i;for(r=e-J,n=0;r%Me===re;r/=Me,n++);for(i=Me;i<e&&qo(i,t,e)!==e-J;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const s=(e+J)/Er;return function(c,a){const u=c.pow(a,s);if(!c.eql(c.sqr(u),a))throw new Error("Cannot find square root");return u}}const o=(r+J)/Me;return function(s,c){if(s.pow(c,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let a=n,u=s.pow(s.mul(s.ONE,i),r),f=s.pow(c,o),h=s.pow(c,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let p=1;for(let l=s.sqr(h);p<a&&!s.eql(l,s.ONE);p++)l=s.sqr(l);const g=s.pow(u,J<<BigInt(a-p-1));u=s.sqr(g),f=s.mul(f,g),h=s.mul(h,u),a=p}return f}}function hl(e){if(e%Er===ul){const t=(e+J)/Er;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%Rn===Cn){const t=(e-Cn)/Rn;return function(r,n){const i=r.mul(n,Me),o=r.pow(i,t),s=r.mul(n,o),c=r.mul(r.mul(s,Me),o),a=r.mul(s,r.sub(c,r.ONE));if(!r.eql(r.sqr(a),n))throw new Error("Cannot find square root");return a}}return ll(e)}const dl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pl(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dl.reduce((n,i)=>(n[i]="function",n),t);return it(e,r)}function bl(e,t,r){if(r<re)throw new Error("invalid exponent, negatives unsupported");if(r===re)return e.ONE;if(r===J)return t;let n=e.ONE,i=t;for(;r>re;)r&J&&(n=e.mul(n,i)),i=e.sqr(i),r>>=J;return n}function gl(e,t){const r=new Array(t.length),n=t.reduce((o,s,c)=>e.is0(s)?o:(r[c]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,c)=>e.is0(s)?o:(r[c]=e.mul(o,r[c]),e.mul(o,s)),i),r}function Fo(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Vo(e,t,r=!1,n={}){if(e<=re)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=Fo(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:o,MASK:Cr(i),ZERO:re,ONE:J,create:a=>ce(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return re<=a&&a<e},is0:a=>a===re,isOdd:a=>(a&J)===J,neg:a=>ce(-a,e),eql:(a,u)=>a===u,sqr:a=>ce(a*a,e),add:(a,u)=>ce(a+u,e),sub:(a,u)=>ce(a-u,e),mul:(a,u)=>ce(a*u,e),pow:(a,u)=>bl(c,a,u),div:(a,u)=>ce(a*vr(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>vr(a,e),sqrt:n.sqrt||(a=>(s||(s=hl(e)),s(c,a))),invertBatch:a=>gl(c,a),cmov:(a,u,f)=>f?u:a,toBytes:a=>r?kt(a,o):nt(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return r?dt(a):ke(a)}});return Object.freeze(c)}function Yo(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Wo(e){const t=Yo(e);return t+Math.ceil(t/2)}function wl(e,t,r=!1){const n=e.length,i=Yo(t),o=Wo(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=r?dt(e):ke(e),c=ce(s,t-J)+J;return r?kt(c,i):nt(c,i)}const jn=BigInt(0),Ut=BigInt(1);function tr(e,t){const r=t.negate();return e?r:t}function Zo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function rr(e,t){Zo(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function yl(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function ml(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const nr=new WeakMap,Ko=new WeakMap;function or(e){return Ko.get(e)||1}function El(e,t){return{constTimeNegate:tr,hasPrecomputes(r){return or(r)!==1},unsafeLadder(r,n,i=e.ZERO){let o=r;for(;n>jn;)n&Ut&&(i=i.add(o)),o=o.double(),n>>=Ut;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=rr(n,t),s=[];let c=r,a=c;for(let u=0;u<i;u++){a=c,s.push(a);for(let f=1;f<o;f++)a=a.add(c),s.push(a);c=a.double()}return s},wNAF(r,n,i){const{windows:o,windowSize:s}=rr(r,t);let c=e.ZERO,a=e.BASE;const u=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let p=0;p<o;p++){const g=p*s;let l=Number(i&u);i>>=h,l>s&&(l-=f,i+=Ut);const d=g,b=g+Math.abs(l)-1,E=p%2!==0,w=l<0;l===0?a=a.add(tr(E,n[d])):c=c.add(tr(w,n[b]))}return{p:c,f:a}},wNAFUnsafe(r,n,i,o=e.ZERO){const{windows:s,windowSize:c}=rr(r,t),a=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<s;h++){const p=h*c;if(i===jn)break;let g=Number(i&a);if(i>>=f,g>c&&(g-=u,i+=Ut),g===0)continue;let l=n[p+Math.abs(g)-1];g<0&&(l=l.negate()),o=o.add(l)}return o},getPrecomputes(r,n,i){let o=nr.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&nr.set(n,i(o))),o},wNAFCached(r,n,i){const o=or(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const s=or(r);return s===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,o)},setWindowSize(r,n){Zo(n,t),Ko.set(r,n),nr.delete(r)}}}function vl(e,t,r,n){if(yl(r,e),ml(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Do(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,c=(1<<s)-1,a=new Array(c+1).fill(i),u=Math.floor((t.BITS-1)/s)*s;let f=i;for(let h=u;h>=0;h-=s){a.fill(i);for(let g=0;g<n.length;g++){const l=n[g],d=Number(l>>BigInt(h)&BigInt(c));a[d]=a[d].add(r[g])}let p=i;for(let g=a.length-1,l=i;g>0;g--)l=l.add(a[g]),p=p.add(l);if(f=f.add(p),h!==0)for(let g=0;g<s;g++)f=f.double()}return f}function Go(e){return pl(e.Fp),it(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ge=BigInt(0),ir=BigInt(1);function xl(e){return it(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function _l(e){const t=xl(e),{P:r}=t,n=w=>ce(w,r),i=t.montgomeryBits,o=Math.ceil(i/8),s=t.nByteLength,c=t.adjustScalarBytes||(w=>w),a=t.powPminus2||(w=>qo(w,r-BigInt(2),r));function u(w,m,x){const L=n(w*(m-x));return m=n(m-L),x=n(x+L),[m,x]}const f=(t.a-BigInt(2))/BigInt(4);function h(w,m){Be("u",w,Ge,r),Be("scalar",m,Ge,r);const x=m,L=w;let N=ir,_=Ge,S=w,U=ir,z=Ge,T;for(let k=BigInt(i-1);k>=Ge;k--){const I=x>>k&ir;z^=I,T=u(z,N,S),N=T[0],S=T[1],T=u(z,_,U),_=T[0],U=T[1],z=I;const v=N+_,y=n(v*v),A=N-_,B=n(A*A),O=y-B,P=S+U,C=S-U,j=n(C*v),M=n(P*A),D=j+M,F=j-M;S=n(D*D),U=n(L*n(F*F)),N=n(y*B),_=n(O*(y+n(f*O)))}T=u(z,N,S),N=T[0],S=T[1],T=u(z,_,U),_=T[0],U=T[1];const R=a(_);return n(N*R)}function p(w){return kt(n(w),o)}function g(w){const m=ue("u coordinate",w,o);return s===32&&(m[31]&=127),dt(m)}function l(w){const m=ue("scalar",w),x=m.length;if(x!==o&&x!==s){let L=""+o+" or "+s;throw new Error("invalid scalar, expected "+L+" bytes, got "+x)}return dt(c(m))}function d(w,m){const x=g(m),L=l(w),N=h(x,L);if(N===Ge)throw new Error("invalid private or public key received");return p(N)}const b=p(t.Gu);function E(w){return d(w,b)}return{scalarMult:d,scalarMultBase:E,getSharedSecret:(w,m)=>d(w,m),getPublicKey:w=>E(w),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}const xr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Al=BigInt(1),zn=BigInt(2),Ol=BigInt(3),Sl=BigInt(5);BigInt(8);function Bl(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=xr,s=e*e%o*e%o,c=be(s,zn,o)*s%o,a=be(c,Al,o)*e%o,u=be(a,Sl,o)*a%o,f=be(u,t,o)*u%o,h=be(f,r,o)*f%o,p=be(h,n,o)*h%o,g=be(p,i,o)*p%o,l=be(g,i,o)*p%o,d=be(l,t,o)*u%o;return{pow_p_5_8:be(d,zn,o)*e%o,b2:s}}function Ul(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}_l({P:xr,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=xr,{pow_p_5_8:r,b2:n}=Bl(e);return ce(be(r,Ol,t)*n,t)},adjustScalarBytes:Ul,randomBytes:No});function Mn(e){e.lowS!==void 0&&et("lowS",e.lowS),e.prehash!==void 0&&et("prehash",e.prehash)}function Il(e){const t=Go(e);it(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Nl,hexToBytes:Ll}=fl;class Tl extends Error{constructor(t=""){super(t)}}const Ae={Err:Tl,_tlv:{encode:(e,t)=>{const{Err:r}=Ae;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=$e(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?$e(i.length/2|128):"";return $e(e)+o+i+t},decode(e,t){const{Err:r}=Ae;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],o=!!(i&128);let s=0;if(!o)s=i;else{const a=i&127;if(!a)throw new r("tlv.decode(long): indefinite length not supported");if(a>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+a);if(u.length!==a)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const f of u)s=s<<8|f;if(n+=a,s<128)throw new r("tlv.decode(long): not minimal encoding")}const c=t.subarray(n,n+s);if(c.length!==s)throw new r("tlv.decode: wrong value length");return{v:c,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=Ae;if(e<Oe)throw new t("integer: negative integers are not allowed");let r=$e(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Nl(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Ae,i=typeof e=="string"?Ll(e):e;mt(i);const{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=n.decode(2,o),{v:u,l:f}=n.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=Ae,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),o=n+i;return t.encode(48,o)}},Oe=BigInt(0),ee=BigInt(1);BigInt(2);const kn=BigInt(3);BigInt(4);function Pl(e){const t=Il(e),{Fp:r}=t,n=Vo(t.n,t.nBitLength),i=t.toBytes||((d,b,E)=>{const w=b.toAffine();return pt(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),o=t.fromBytes||(d=>{const b=d.subarray(1),E=r.fromBytes(b.subarray(0,r.BYTES)),w=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:E,y:w}});function s(d){const{a:b,b:E}=t,w=r.sqr(d),m=r.mul(w,d);return r.add(r.add(m,r.mul(d,b)),E)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function c(d){return Dt(d,ee,t.n)}function a(d){const{allowedPrivateKeyLengths:b,nByteLength:E,wrapPrivateKey:w,n:m}=t;if(b&&typeof d!="bigint"){if(De(d)&&(d=tt(d)),typeof d!="string"||!b.includes(d.length))throw new Error("invalid private key");d=d.padStart(E*2,"0")}let x;try{x=typeof d=="bigint"?d:ke(ue("private key",d,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof d)}return w&&(x=ce(x,m)),Be("private key",x,ee,m),x}function u(d){if(!(d instanceof p))throw new Error("ProjectivePoint expected")}const f=mr((d,b)=>{const{px:E,py:w,pz:m}=d;if(r.eql(m,r.ONE))return{x:E,y:w};const x=d.is0();b==null&&(b=x?r.ONE:r.inv(m));const L=r.mul(E,b),N=r.mul(w,b),_=r.mul(m,b);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:L,y:N}}),h=mr(d=>{if(d.is0()){if(t.allowInfinityPoint&&!r.is0(d.py))return;throw new Error("bad point: ZERO")}const{x:b,y:E}=d.toAffine();if(!r.isValid(b)||!r.isValid(E))throw new Error("bad point: x or y not FE");const w=r.sqr(E),m=s(b);if(!r.eql(w,m))throw new Error("bad point: equation left != right");if(!d.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(b,E,w){if(this.px=b,this.py=E,this.pz=w,b==null||!r.isValid(b))throw new Error("x required");if(E==null||!r.isValid(E))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:E,y:w}=b||{};if(!b||!r.isValid(E)||!r.isValid(w))throw new Error("invalid affine point");if(b instanceof p)throw new Error("projective point not allowed");const m=x=>r.eql(x,r.ZERO);return m(E)&&m(w)?p.ZERO:new p(E,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const E=r.invertBatch(b.map(w=>w.pz));return b.map((w,m)=>w.toAffine(E[m])).map(p.fromAffine)}static fromHex(b){const E=p.fromAffine(o(ue("pointHex",b)));return E.assertValidity(),E}static fromPrivateKey(b){return p.BASE.multiply(a(b))}static msm(b,E){return vl(p,n,b,E)}_setWindowSize(b){l.setWindowSize(this,b)}assertValidity(){h(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:E,py:w,pz:m}=this,{px:x,py:L,pz:N}=b,_=r.eql(r.mul(E,N),r.mul(x,m)),S=r.eql(r.mul(w,N),r.mul(L,m));return _&&S}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:E}=t,w=r.mul(E,kn),{px:m,py:x,pz:L}=this;let N=r.ZERO,_=r.ZERO,S=r.ZERO,U=r.mul(m,m),z=r.mul(x,x),T=r.mul(L,L),R=r.mul(m,x);return R=r.add(R,R),S=r.mul(m,L),S=r.add(S,S),N=r.mul(b,S),_=r.mul(w,T),_=r.add(N,_),N=r.sub(z,_),_=r.add(z,_),_=r.mul(N,_),N=r.mul(R,N),S=r.mul(w,S),T=r.mul(b,T),R=r.sub(U,T),R=r.mul(b,R),R=r.add(R,S),S=r.add(U,U),U=r.add(S,U),U=r.add(U,T),U=r.mul(U,R),_=r.add(_,U),T=r.mul(x,L),T=r.add(T,T),U=r.mul(T,R),N=r.sub(N,U),S=r.mul(T,z),S=r.add(S,S),S=r.add(S,S),new p(N,_,S)}add(b){u(b);const{px:E,py:w,pz:m}=this,{px:x,py:L,pz:N}=b;let _=r.ZERO,S=r.ZERO,U=r.ZERO;const z=t.a,T=r.mul(t.b,kn);let R=r.mul(E,x),k=r.mul(w,L),I=r.mul(m,N),v=r.add(E,w),y=r.add(x,L);v=r.mul(v,y),y=r.add(R,k),v=r.sub(v,y),y=r.add(E,m);let A=r.add(x,N);return y=r.mul(y,A),A=r.add(R,I),y=r.sub(y,A),A=r.add(w,m),_=r.add(L,N),A=r.mul(A,_),_=r.add(k,I),A=r.sub(A,_),U=r.mul(z,y),_=r.mul(T,I),U=r.add(_,U),_=r.sub(k,U),U=r.add(k,U),S=r.mul(_,U),k=r.add(R,R),k=r.add(k,R),I=r.mul(z,I),y=r.mul(T,y),k=r.add(k,I),I=r.sub(R,I),I=r.mul(z,I),y=r.add(y,I),R=r.mul(k,y),S=r.add(S,R),R=r.mul(A,y),_=r.mul(v,_),_=r.sub(_,R),R=r.mul(v,k),U=r.mul(A,U),U=r.add(U,R),new p(_,S,U)}subtract(b){return this.add(b.negate())}is0(){return this.equals(p.ZERO)}wNAF(b){return l.wNAFCached(this,b,p.normalizeZ)}multiplyUnsafe(b){const{endo:E,n:w}=t;Be("scalar",b,Oe,w);const m=p.ZERO;if(b===Oe)return m;if(this.is0()||b===ee)return this;if(!E||l.hasPrecomputes(this))return l.wNAFCachedUnsafe(this,b,p.normalizeZ);let{k1neg:x,k1:L,k2neg:N,k2:_}=E.splitScalar(b),S=m,U=m,z=this;for(;L>Oe||_>Oe;)L&ee&&(S=S.add(z)),_&ee&&(U=U.add(z)),z=z.double(),L>>=ee,_>>=ee;return x&&(S=S.negate()),N&&(U=U.negate()),U=new p(r.mul(U.px,E.beta),U.py,U.pz),S.add(U)}multiply(b){const{endo:E,n:w}=t;Be("scalar",b,ee,w);let m,x;if(E){const{k1neg:L,k1:N,k2neg:_,k2:S}=E.splitScalar(b);let{p:U,f:z}=this.wNAF(N),{p:T,f:R}=this.wNAF(S);U=l.constTimeNegate(L,U),T=l.constTimeNegate(_,T),T=new p(r.mul(T.px,E.beta),T.py,T.pz),m=U.add(T),x=z.add(R)}else{const{p:L,f:N}=this.wNAF(b);m=L,x=N}return p.normalizeZ([m,x])[0]}multiplyAndAddUnsafe(b,E,w){const m=p.BASE,x=(N,_)=>_===Oe||_===ee||!N.equals(m)?N.multiplyUnsafe(_):N.multiply(_),L=x(this,E).add(x(b,w));return L.is0()?void 0:L}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:E}=t;if(b===ee)return!0;if(E)return E(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:E}=t;return b===ee?this:E?E(p,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return et("isCompressed",b),this.assertValidity(),i(p,this,b)}toHex(b=!0){return et("isCompressed",b),tt(this.toRawBytes(b))}}p.BASE=new p(t.Gx,t.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const g=t.nBitLength,l=El(p,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Cl(e){const t=Go(e);return it(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Rl(e){const t=Cl(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(I){return ce(I,n)}function c(I){return vr(I,n)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=Pl({...t,toBytes(I,v,y){const A=v.toAffine(),B=r.toBytes(A.x),O=pt;return et("isCompressed",y),y?O(Uint8Array.from([v.hasEvenY()?2:3]),B):O(Uint8Array.from([4]),B,r.toBytes(A.y))},fromBytes(I){const v=I.length,y=I[0],A=I.subarray(1);if(v===i&&(y===2||y===3)){const B=ke(A);if(!Dt(B,ee,r.ORDER))throw new Error("Point is not on curve");const O=f(B);let P;try{P=r.sqrt(O)}catch(j){const M=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+M)}const C=(P&ee)===ee;return(y&1)===1!==C&&(P=r.neg(P)),{x:B,y:P}}else if(v===o&&y===4){const B=r.fromBytes(A.subarray(0,r.BYTES)),O=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:B,y:O}}else{const B=i,O=o;throw new Error("invalid Point, expected length of "+B+", or uncompressed "+O+", got "+v)}}}),p=I=>tt(nt(I,t.nByteLength));function g(I){const v=n>>ee;return I>v}function l(I){return g(I)?s(-I):I}const d=(I,v,y)=>ke(I.slice(v,y));class b{constructor(v,y,A){this.r=v,this.s=y,this.recovery=A,this.assertValidity()}static fromCompact(v){const y=t.nByteLength;return v=ue("compactSignature",v,y*2),new b(d(v,0,y),d(v,y,2*y))}static fromDER(v){const{r:y,s:A}=Ae.toSig(ue("DER",v));return new b(y,A)}assertValidity(){Be("r",this.r,ee,n),Be("s",this.s,ee,n)}addRecoveryBit(v){return new b(this.r,this.s,v)}recoverPublicKey(v){const{r:y,s:A,recovery:B}=this,O=N(ue("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const P=B===2||B===3?y+t.n:y;if(P>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const C=B&1?"03":"02",j=a.fromHex(C+p(P)),M=c(P),D=s(-O*M),F=s(A*M),Y=a.BASE.multiplyAndAddUnsafe(j,D,F);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return rt(this.toDERHex())}toDERHex(){return Ae.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rt(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(I){try{return u(I),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const I=Wo(t.n);return wl(t.randomBytes(I),t.n)},precompute(I=8,v=a.BASE){return v._setWindowSize(I),v.multiply(BigInt(3)),v}};function w(I,v=!0){return a.fromPrivateKey(I).toRawBytes(v)}function m(I){const v=De(I),y=typeof I=="string",A=(v||y)&&I.length;return v?A===i||A===o:y?A===2*i||A===2*o:I instanceof a}function x(I,v,y=!0){if(m(I))throw new Error("first arg must be private key");if(!m(v))throw new Error("second arg must be public key");return a.fromHex(v).multiply(u(I)).toRawBytes(y)}const L=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const v=ke(I),y=I.length*8-t.nBitLength;return y>0?v>>BigInt(y):v},N=t.bits2int_modN||function(I){return s(L(I))},_=Cr(t.nBitLength);function S(I){return Be("num < 2^"+t.nBitLength,I,Oe,_),nt(I,t.nByteLength)}function U(I,v,y=z){if(["recovered","canonical"].some(G=>G in y))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:B}=t;let{lowS:O,prehash:P,extraEntropy:C}=y;O==null&&(O=!0),I=ue("msgHash",I),Mn(y),P&&(I=ue("prehashed msgHash",A(I)));const j=N(I),M=u(v),D=[S(M),S(j)];if(C!=null&&C!==!1){const G=C===!0?B(r.BYTES):C;D.push(ue("extraEntropy",G))}const F=pt(...D),Y=j;function Q(G){const Z=L(G);if(!h(Z))return;const he=c(Z),fe=a.BASE.multiply(Z).toAffine(),de=s(fe.x);if(de===Oe)return;const ge=s(he*s(Y+de*M));if(ge===Oe)return;let Ue=(fe.x===de?0:2)|Number(fe.y&ee),vt=ge;return O&&g(ge)&&(vt=l(ge),Ue^=1),new b(de,vt,Ue)}return{seed:F,k2sig:Q}}const z={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};function R(I,v,y=z){const{seed:A,k2sig:B}=U(I,v,y),O=t;return Ho(O.hash.outputLen,O.nByteLength,O.hmac)(A,B)}a.BASE._setWindowSize(8);function k(I,v,y,A=T){var ge;const B=I;v=ue("msgHash",v),y=ue("publicKey",y);const{lowS:O,prehash:P,format:C}=A;if(Mn(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if(C!==void 0&&C!=="compact"&&C!=="der")throw new Error("format must be compact or der");const j=typeof B=="string"||De(B),M=!j&&!C&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!j&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,F;try{if(M&&(D=new b(B.r,B.s)),j){try{C!=="compact"&&(D=b.fromDER(B))}catch(Ue){if(!(Ue instanceof Ae.Err))throw Ue}!D&&C!=="der"&&(D=b.fromCompact(B))}F=a.fromHex(y)}catch{return!1}if(!D||O&&D.hasHighS())return!1;P&&(v=t.hash(v));const{r:Y,s:Q}=D,G=N(v),Z=c(Q),he=s(G*Z),fe=s(Y*Z),de=(ge=a.BASE.multiplyAndAddUnsafe(F,he,fe))==null?void 0:ge.toAffine();return de?s(de.x)===Y:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:x,sign:R,verify:k,ProjectivePoint:a,Signature:b,utils:E}}function jl(e){return{hash:e,hmac:(t,...r)=>ko(e,t,du(...r)),randomBytes:No}}function zl(e,t){const r=n=>Rl({...e,...jl(n)});return{...r(t),create:r}}const $o=Vo(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Ml=$o.create(BigInt("-3")),kl=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");zl({a:Ml,b:kl,Fp:$o,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Xu);var Dl={},xe={},Dn;function Hl(){if(Dn)return xe;Dn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.isBrowserCryptoAvailable=xe.getSubtleCrypto=xe.getBrowerCrypto=void 0;function e(){return(qe===null||qe===void 0?void 0:qe.crypto)||(qe===null||qe===void 0?void 0:qe.msCrypto)||{}}xe.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}xe.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return xe.isBrowserCryptoAvailable=r,xe}var _e={},Hn;function ql(){if(Hn)return _e;Hn=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.isBrowser=_e.isNode=_e.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}_e.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}_e.isNode=t;function r(){return!e()&&!t()}return _e.isBrowser=r,_e}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bt;t.__exportStar(Hl(),e),t.__exportStar(ql(),e)})(Dl);const Fl=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws");Fl();q.ONE_DAY;q.SIX_HOURS;q.ONE_DAY,q.ONE_DAY,q.THIRTY_SECONDS,q.THIRTY_SECONDS,q.ONE_DAY,q.ONE_DAY;function Vl(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var c=e.length,a=e.charAt(0),u=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var d=0,b=0,E=0,w=l.length;E!==w&&l[E]===0;)E++,d++;for(var m=(w-E)*f+1>>>0,x=new Uint8Array(m);E!==w;){for(var L=l[E],N=0,_=m-1;(L!==0||N<b)&&_!==-1;_--,N++)L+=256*x[_]>>>0,x[_]=L%c>>>0,L=L/c>>>0;if(L!==0)throw new Error("Non-zero carry");b=N,E++}for(var S=m-b;S!==m&&x[S]===0;)S++;for(var U=a.repeat(d);S<m;++S)U+=e.charAt(x[S]);return U}function p(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var d=0;if(l[d]!==" "){for(var b=0,E=0;l[d]===a;)b++,d++;for(var w=(l.length-d)*u+1>>>0,m=new Uint8Array(w);l[d];){var x=r[l.charCodeAt(d)];if(x===255)return;for(var L=0,N=w-1;(x!==0||L<E)&&N!==-1;N--,L++)x+=c*m[N]>>>0,m[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=L,d++}if(l[d]!==" "){for(var _=w-E;_!==w&&m[_]===0;)_++;for(var S=new Uint8Array(b+(w-_)),U=b;_!==w;)S[U++]=m[_++];return S}}}function g(l){var d=p(l);if(d)return d;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:p,decode:g}}var Yl=Vl,Wl=Yl;const Jo=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Zl=e=>new TextEncoder().encode(e),Kl=e=>new TextDecoder().decode(e);class Gl{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class $l{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Qo(this,t)}}class Jl{constructor(t){this.decoders=t}or(t){return Qo(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Qo=(e,t)=>new Jl({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ql{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Gl(t,r,n),this.decoder=new $l(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ht=({name:e,prefix:t,encode:r,decode:n})=>new Ql(e,t,r,n),Et=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Wl(r,t);return Ht({prefix:e,name:t,encode:n,decode:o=>Jo(i(o))})},Xl=(e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*r/8|0);let c=0,a=0,u=0;for(let f=0;f<o;++f){const h=i[e[f]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|h,c+=r,c>=8&&(c-=8,s[u++]=255&a>>c)}if(c>=r||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s},eh=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",s=0,c=0;for(let a=0;a<e.length;++a)for(c=c<<8|e[a],s+=8;s>r;)s-=r,o+=t[i&c>>s];if(s&&(o+=t[i&c<<r-s]),n)for(;o.length*r&7;)o+="=";return o},se=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ht({prefix:t,name:e,encode(i){return eh(i,n,r)},decode(i){return Xl(i,n,r,e)}}),th=Ht({prefix:"\0",name:"identity",encode:e=>Kl(e),decode:e=>Zl(e)});var rh=Object.freeze({__proto__:null,identity:th});const nh=se({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oh=Object.freeze({__proto__:null,base2:nh});const ih=se({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var sh=Object.freeze({__proto__:null,base8:ih});const ah=Et({prefix:"9",name:"base10",alphabet:"0123456789"});var ch=Object.freeze({__proto__:null,base10:ah});const fh=se({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uh=se({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var lh=Object.freeze({__proto__:null,base16:fh,base16upper:uh});const hh=se({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dh=se({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ph=se({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bh=se({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gh=se({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wh=se({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yh=se({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mh=se({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Eh=se({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var vh=Object.freeze({__proto__:null,base32:hh,base32upper:dh,base32pad:ph,base32padupper:bh,base32hex:gh,base32hexupper:wh,base32hexpad:yh,base32hexpadupper:mh,base32z:Eh});const xh=Et({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_h=Et({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ah=Object.freeze({__proto__:null,base36:xh,base36upper:_h});const Oh=Et({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sh=Et({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Bh=Object.freeze({__proto__:null,base58btc:Oh,base58flickr:Sh});const Uh=se({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ih=se({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nh=se({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Lh=se({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Th=Object.freeze({__proto__:null,base64:Uh,base64pad:Ih,base64url:Nh,base64urlpad:Lh});const Xo=Array.from(""),Ph=Xo.reduce((e,t,r)=>(e[r]=t,e),[]),Ch=Xo.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Rh(e){return e.reduce((t,r)=>(t+=Ph[r],t),"")}function jh(e){const t=[];for(const r of e){const n=Ch[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const zh=Ht({prefix:"",name:"base256emoji",encode:Rh,decode:jh});var Mh=Object.freeze({__proto__:null,base256emoji:zh}),kh=ei,qn=128,Dh=-128,Hh=Math.pow(2,31);function ei(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Hh;)t[r++]=e&255|qn,e/=128;for(;e&Dh;)t[r++]=e&255|qn,e>>>=7;return t[r]=e|0,ei.bytes=r-n+1,t}var qh=_r,Fh=128,Fn=127;function _r(e,n){var r=0,n=n||0,i=0,o=n,s,c=e.length;do{if(o>=c)throw _r.bytes=0,new RangeError("Could not decode varint");s=e[o++],r+=i<28?(s&Fn)<<i:(s&Fn)*Math.pow(2,i),i+=7}while(s>=Fh);return _r.bytes=o-n,r}var Vh=Math.pow(2,7),Yh=Math.pow(2,14),Wh=Math.pow(2,21),Zh=Math.pow(2,28),Kh=Math.pow(2,35),Gh=Math.pow(2,42),$h=Math.pow(2,49),Jh=Math.pow(2,56),Qh=Math.pow(2,63),Xh=function(e){return e<Vh?1:e<Yh?2:e<Wh?3:e<Zh?4:e<Kh?5:e<Gh?6:e<$h?7:e<Jh?8:e<Qh?9:10},ed={encode:kh,decode:qh,encodingLength:Xh},ti=ed;const Vn=(e,t,r=0)=>(ti.encode(e,t,r),t),Yn=e=>ti.encodingLength(e),Ar=(e,t)=>{const r=t.byteLength,n=Yn(e),i=n+Yn(r),o=new Uint8Array(i+r);return Vn(e,o,0),Vn(r,o,n),o.set(t,i),new td(e,r,t,o)};class td{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const ri=({name:e,code:t,encode:r})=>new rd(e,t,r);class rd{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Ar(this.code,r):r.then(n=>Ar(this.code,n))}else throw Error("Unknown type, must be binary type")}}const ni=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),nd=ri({name:"sha2-256",code:18,encode:ni("SHA-256")}),od=ri({name:"sha2-512",code:19,encode:ni("SHA-512")});var id=Object.freeze({__proto__:null,sha256:nd,sha512:od});const oi=0,sd="identity",ii=Jo,ad=e=>Ar(oi,ii(e)),cd={code:oi,name:sd,encode:ii,digest:ad};var fd=Object.freeze({__proto__:null,identity:cd});new TextEncoder,new TextDecoder;({...rh,...oh,...sh,...ch,...lh,...vh,...Ah,...Bh,...Th,...Mh});({...id,...fd});q.SEVEN_DAYS;q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.ONE_DAY,q.ONE_DAY,q.ONE_DAY,q.ONE_DAY,q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.FIVE_MINUTES,q.ONE_DAY,q.ONE_DAY,q.ONE_DAY,q.ONE_DAY,q.ONE_HOUR,q.ONE_HOUR,q.FIVE_MINUTES,q.FIVE_MINUTES;q.FIVE_MINUTES,q.SEVEN_DAYS;const sr=pi(),ud={width:"245px",height:"245px",borderRadius:"40px",zIndex:"99999",backgroundColor:"white",border:"none",outline:"none"},ld=`
  <div id="argent-mobile-modal-container" style="position: relative; display: flex; justify-content: center; align-items: center">
    <iframe class="argent-iframe" allow="clipboard-write"></iframe>
  </div>
`;class hd{constructor(){Ie(this,"bridgeUrl","https://login.ready.co"),Ie(this,"mobileUrl","ready://"),Ie(this,"type","overlay"),Ie(this,"wcUri"),Ie(this,"overlay"),Ie(this,"popupWindow"),Ie(this,"closingTimeout"),Ie(this,"standaloneConnectorModal")}showWalletConnectModal(t,r){const n=encodeURIComponent(t),i=encodeURIComponent(window.location.href);this.showModal({desktop:`${this.bridgeUrl}?wc=${n}&href=${i}&device=desktop&onlyQR=true`,ios:`${this.mobileUrl}app/wc?uri=${n}&href=${i}&device=mobile&onlyQR=true`,android:`${this.mobileUrl}app/wc?uri=${n}&href=${i}&device=mobile&onlyQR=true`},r)}getWalletConnectQR(t){const r=encodeURIComponent(t),n=encodeURIComponent(window.location.href);this.getQR({desktop:`${this.bridgeUrl}?wc=${r}&href=${n}&device=desktop&onlyQR=true`,ios:`${this.mobileUrl}app/wc?uri=${r}&href=${n}&device=mobile&onlyQR=true`,android:`${this.mobileUrl}app/wc?uri=${r}&href=${n}&device=mobile&onlyQR=true`})}openMobileApp(t){const r=document.createElement("button");r.style.display="none",r.addEventListener("click",()=>{window.location.href=t[sr]}),r.click()}getQR(t){if(["android","ios"].includes(sr)){this.openMobileApp(t);return}const r=document.createElement("div"),n=document.querySelector("#starknetkit-modal-container");if(n!=null&&n.shadowRoot){const i=n.shadowRoot.querySelector(".qr-code-slot");if(i){i.innerHTML=ld,document.body.appendChild(r),this.overlay=r;const o=i.querySelector("iframe");o.setAttribute("src",t.desktop);for(const[s,c]of Object.entries(ud))o.style[s]=c}else throw new Error("Cannot find QR code slot")}else throw new Error("Cannot find modal")}showApprovalModal(t){const r=encodeURIComponent(window.location.href),n={desktop:`${this.bridgeUrl}?action=sign&device=desktop&href=${r}`,ios:`${this.mobileUrl}app/wc/request?href=${r}&device=mobile`,android:`${this.mobileUrl}app/wc/request?href=${r}&device=mobile`};if(!gi()){if(this.getModal(void 0,Re.approval),["android","ios"].includes(sr)){this.openMobileApp(n);return}return}this.showModal(n,void 0)}closeModal({success:t,isRequest:r}={success:!1,isRequest:!1}){const n=this.standaloneConnectorModal;t?(n==null||n.$set({layout:Re.success}),setTimeout(()=>n==null?void 0:n.$destroy(),500)):r?(n==null||n.$set({layout:Re.requestFailure}),setTimeout(()=>n==null?void 0:n.$destroy(),500)):n==null||n.$set({layout:Re.loginFailure})}getModal(t,r=Re.qrCode){this.standaloneConnectorModal=new wi({target:yi(),props:{layout:r,dappName:t==null?void 0:t.dappName,showBackButton:!1,selectedWallet:t,callback:async n=>{var i,o;try{const s=n==null?void 0:n.connector;(i=this.standaloneConnectorModal)==null||i.$destroy(),await(s==null?void 0:s.connect())}catch{(o=this.standaloneConnectorModal)==null||o.$set({layout:Re.loginFailure})}}}})}showModal(t,r){this.getModal(r,Re.qrCode),this.getQR(t)}}new hd;bi.NetworkName;
